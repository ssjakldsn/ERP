import{bt as f,d as x,r as m,e as C,o as _,q as w,w as o,f as a,y as U,a as e,x as z,t as L,D as M,k as V,K as k,av as A,L as E,M as P}from"./index-CIfmhqRC.js";import{_ as j}from"./Dialog.vue_vue_type_style_index_0_lang-CtaLqQeX.js";import{_ as q}from"./ContentWrap.vue_vue_type_script_setup_true_lang-sm5dIhPQ.js";import{_ as B}from"./index.vue_vue_type_script_setup_true_lang-DYHi04Tm.js";import{_ as K}from"./DictTag.vue_vue_type_script_lang-CTpVFm77.js";import{E as F}from"./el-avatar-Cbg-oQZd.js";import{d as b}from"./formatTime-DFFN_xWx.js";const h=async d=>await f.get({url:"/promotion/combination-record/page",params:d}),G=async()=>await f.get({url:"/promotion/combination-record/get-summary"}),H=x({name:"CombinationRecordListDialog",__name:"CombinationRecordListDialog",setup(d,{expose:v}){const p=m(!0),u=m(0),c=m([]),i=C({pageNo:1,pageSize:10,headId:void 0}),s=m(!1);v({open:async n=>{s.value=!0,i.headId=n,await g()}});const g=async()=>{p.value=!0;try{const n=await h(i);c.value=n.list,u.value=n.total}finally{p.value=!1}};return(n,r)=>{const l=k,y=F,I=A,N=K,O=E,T=B,D=q,R=j,S=P;return _(),w(R,{modelValue:e(s),"onUpdate:modelValue":r[2]||(r[2]=t=>V(s)?s.value=t:null),title:"\u62FC\u56E2\u5217\u8868",width:"950"},{default:o(()=>[a(D,null,{default:o(()=>[U((_(),w(O,{data:e(c)},{default:o(()=>[a(l,{align:"center",label:"\u7F16\u53F7",prop:"id","min-width":"50"}),a(l,{align:"center",label:"\u5934\u50CF",prop:"avatar","min-width":"80"},{default:o(t=>[a(y,{src:t.row.avatar},null,8,["src"])]),_:1}),a(l,{align:"center",label:"\u6635\u79F0",prop:"nickname","min-width":"100"}),a(l,{align:"center",label:"\u5F00\u56E2\u56E2\u957F",prop:"headId","min-width":"100"},{default:o(({row:t})=>[a(I,null,{default:o(()=>[z(L(t.headId===0?"\u56E2\u957F":"\u56E2\u5458"),1)]),_:2},1024)]),_:1}),a(l,{formatter:e(b),align:"center",label:"\u53C2\u56E2\u65F6\u95F4",prop:"createTime",width:"180"},null,8,["formatter"]),a(l,{formatter:e(b),align:"center",label:"\u7ED3\u675F\u65F6\u95F4",prop:"endTime",width:"180"},null,8,["formatter"]),a(l,{align:"center",label:"\u62FC\u56E2\u72B6\u6001",prop:"status","min-width":"150"},{default:o(t=>[a(N,{type:e(M).PROMOTION_COMBINATION_RECORD_STATUS,value:t.row.status},null,8,["type","value"])]),_:1})]),_:1},8,["data"])),[[S,e(p)]]),a(T,{limit:e(i).pageSize,"onUpdate:limit":r[0]||(r[0]=t=>e(i).pageSize=t),page:e(i).pageNo,"onUpdate:page":r[1]||(r[1]=t=>e(i).pageNo=t),total:e(u),onPagination:g},null,8,["limit","page","total"])]),_:1})]),_:1},8,["modelValue"])}}});export{H as _,G as a,h as g};

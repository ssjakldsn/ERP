import{b8 as z,b9 as b,bG as E,cC as F,bE as O,bJ as M,d as y,ct as S,cD as U,ba as j,r as N,cE as P,bP as q,a3 as i,o as f,q as p,w as v,a as c,bm as w,W as A,a_ as D,a5 as G,c as J,F as W,p as K,B as x,bb as L,bc as Q}from"./index-CIfmhqRC.js";const R=z({format:{type:String,default:"HH:mm"},modelValue:String,disabled:Boolean,editable:{type:Boolean,default:!0},effect:{type:b(String),default:"light"},clearable:{type:Boolean,default:!0},size:E,placeholder:String,start:{type:String,default:"09:00"},end:{type:String,default:"18:00"},step:{type:String,default:"00:30"},minTime:String,maxTime:String,name:String,prefixIcon:{type:b([String,Object]),default:()=>F},clearIcon:{type:b([String,Object]),default:()=>O},...M}),o=n=>{const u=(n||"").split(":");if(u.length>=2){let l=Number.parseInt(u[0],10);const s=Number.parseInt(u[1],10),t=n.toUpperCase();return t.includes("AM")&&l===12?l=0:t.includes("PM")&&l!==12&&(l+=12),{hours:l,minutes:s}}return null},h=(n,u)=>{const l=o(n);if(!l)return-1;const s=o(u);if(!s)return-1;const t=l.minutes+60*l.hours,d=s.minutes+60*s.hours;return t===d?0:t>d?1:-1},$=n=>`${n}`.padStart(2,"0"),m=n=>`${$(n.hours)}:${$(n.minutes)}`,X=(n,u)=>{const l=o(n);if(!l)return"";const s=o(u);if(!s)return"";const t={hours:l.hours,minutes:l.minutes};return t.minutes+=s.minutes,t.hours+=s.hours,t.hours+=Math.floor(t.minutes/60),t.minutes=t.minutes%60,m(t)},Y=y({name:"ElTimeSelect"}),Z=Q(L(y({...Y,props:R,emits:["change","blur","focus","clear","update:modelValue"],setup(n,{expose:u}){const l=n;S.extend(U);const{Option:s}=x,t=j("input"),d=N(),B=P(),{lang:C}=q(),I=i(()=>l.modelValue),V=i(()=>{const e=o(l.start);return e?m(e):null}),g=i(()=>{const e=o(l.end);return e?m(e):null}),_=i(()=>{const e=o(l.step);return e?m(e):null}),T=i(()=>{const e=o(l.minTime||"");return e?m(e):null}),H=i(()=>{const e=o(l.maxTime||"");return e?m(e):null}),k=i(()=>{const e=[];if(l.start&&l.end&&l.step){let r,a=V.value;for(;a&&g.value&&h(a,g.value)<=0;)r=S(a,"HH:mm").locale(C.value).format(l.format),e.push({value:r,disabled:h(a,T.value||"-1:-1")<=0||h(a,H.value||"100:100")>=0}),a=X(a,_.value)}return e});return u({blur:()=>{var e,r;(r=(e=d.value)==null?void 0:e.blur)==null||r.call(e)},focus:()=>{var e,r;(r=(e=d.value)==null?void 0:e.focus)==null||r.call(e)}}),(e,r)=>(f(),p(c(x),{ref_key:"select",ref:d,"model-value":c(I),disabled:c(B),clearable:e.clearable,"clear-icon":e.clearIcon,size:e.size,effect:e.effect,placeholder:e.placeholder,"default-first-option":"",filterable:e.editable,"empty-values":e.emptyValues,"value-on-clear":e.valueOnClear,"onUpdate:modelValue":a=>e.$emit("update:modelValue",a),onChange:a=>e.$emit("change",a),onBlur:a=>e.$emit("blur",a),onFocus:a=>e.$emit("focus",a),onClear:()=>e.$emit("clear")},{prefix:v(()=>[e.prefixIcon?(f(),p(c(w),{key:0,class:A(c(t).e("prefix-icon"))},{default:v(()=>[(f(),p(D(e.prefixIcon)))]),_:1},8,["class"])):G("v-if",!0)]),default:v(()=>[(f(!0),J(W,null,K(c(k),a=>(f(),p(c(s),{key:a.value,label:a.value,value:a.value,disabled:a.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["model-value","disabled","clearable","clear-icon","size","effect","placeholder","filterable","empty-values","value-on-clear","onUpdate:modelValue","onChange","onBlur","onFocus","onClear"]))}}),[["__file","time-select.vue"]]));export{Z as E};

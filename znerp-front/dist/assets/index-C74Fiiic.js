import{d as E,e as H,b as T,r as o,ar as M,n as G,o as J,c as j,f as a,w as e,a as l,x as U,k as A,F as B,G as K,C as L,H as N,I as O,J as Q,l as W,m as X,E as Z}from"./index-CIfmhqRC.js";import{_ as $}from"./ContentWrap.vue_vue_type_script_setup_true_lang-sm5dIhPQ.js";import{E as aa}from"./el-tree-select-CYFGeiEt.js";import{_ as ea}from"./ContractPriceRank.vue_vue_type_script_setup_true_lang-C80nL1Z-.js";import{_ as la}from"./ReceivablePriceRank.vue_vue_type_script_setup_true_lang-DkbwsXwx.js";import{_ as ra}from"./ContractCountRank.vue_vue_type_script_setup_true_lang-CP1odIEY.js";import{_ as ta}from"./ProductSalesRank.vue_vue_type_script_setup_true_lang-DDJOnoeD.js";import{_ as oa}from"./CustomerCountRank.vue_vue_type_script_setup_true_lang-DHScqlOi.js";import{_ as sa}from"./ContactCountRank.vue_vue_type_script_setup_true_lang-CrZG0Bhp.js";import{_ as na}from"./FollowCountRank.vue_vue_type_script_setup_true_lang-BzqR5Yh4.js";import{_ as ua}from"./FollowCustomerCountRank.vue_vue_type_script_setup_true_lang-CsFZ4hUL.js";import{h as ma,d as fa}from"./tree-BMqZf9_I.js";import{g as ca}from"./index-C34hh2Ad.js";import{f as Y,e as da,g as pa,h as ia}from"./formatTime-DFFN_xWx.js";import"./el-card-DyMugU68.js";import"./el-skeleton-item-Dm6LwaUQ.js";import"./Echart.vue_vue_type_script_setup_true_lang-C-1NoClp.js";import"./echarts-D6KrxhA1.js";import"./rank-DmDJ--L4.js";const ka=E({name:"CrmStatisticsRank",__name:"index",setup(ya){const r=H({deptId:T().getUser.deptId,times:[Y(da(new Date(new Date().getTime()-6048e5))),Y(pa(new Date(new Date().getTime()-864e5)))]}),w=o(),q=o([]),i=o("contractPriceRank"),D=o(),v=o(),h=o(),x=o(),V=o(),z=o(),P=o(),g=o(),C=()=>{var k,n,m,f,c,y,u,_,d,t,p,R,s,I,b,S;switch(i.value){case"contractPriceRank":(n=(k=D.value)==null?void 0:k.loadData)==null||n.call(k);break;case"receivablePriceRank":(f=(m=v.value)==null?void 0:m.loadData)==null||f.call(m);break;case"contractCountRank":(y=(c=h.value)==null?void 0:c.loadData)==null||y.call(c);break;case"productSalesRank":(_=(u=x.value)==null?void 0:u.loadData)==null||_.call(u);break;case"customerCountRank":(t=(d=V.value)==null?void 0:d.loadData)==null||t.call(d);break;case"contactCountRank":(R=(p=z.value)==null?void 0:p.loadData)==null||R.call(p);break;case"followCountRank":(I=(s=P.value)==null?void 0:s.loadData)==null||I.call(s);break;case"followCustomerCountRank":(S=(b=g.value)==null?void 0:b.loadData)==null||S.call(b)}};M(i,()=>{C()});const F=()=>{w.value.resetFields(),C()};return G(async()=>{q.value=ma(await ca())}),(k,n)=>{const m=K,f=L,c=aa,y=N,u=O,_=Q,d=$,t=W,p=X,R=Z;return J(),j(B,null,[a(d,null,{default:e(()=>[a(_,{class:"-mb-15px",model:l(r),ref_key:"queryFormRef",ref:w,inline:!0,"label-width":"68px"},{default:e(()=>[a(f,{label:"\u65F6\u95F4\u8303\u56F4",prop:"orderDate"},{default:e(()=>[a(m,{modelValue:l(r).times,"onUpdate:modelValue":n[0]||(n[0]=s=>l(r).times=s),shortcuts:l(ia),class:"!w-240px","end-placeholder":"\u7ED3\u675F\u65E5\u671F","start-placeholder":"\u5F00\u59CB\u65E5\u671F",type:"daterange","value-format":"YYYY-MM-DD HH:mm:ss","default-time":[new Date("1 00:00:00"),new Date("1 23:59:59")]},null,8,["modelValue","shortcuts","default-time"])]),_:1}),a(f,{label:"\u5F52\u5C5E\u90E8\u95E8",prop:"deptId"},{default:e(()=>[a(c,{modelValue:l(r).deptId,"onUpdate:modelValue":n[1]||(n[1]=s=>l(r).deptId=s),data:l(q),props:l(fa),"check-strictly":"","node-key":"id",placeholder:"\u8BF7\u9009\u62E9\u5F52\u5C5E\u90E8\u95E8",class:"!w-240px"},null,8,["modelValue","data","props"])]),_:1}),a(f,null,{default:e(()=>[a(u,{onClick:C},{default:e(()=>[a(y,{icon:"ep:search",class:"mr-5px"}),U(" \u641C\u7D22")]),_:1}),a(u,{onClick:F},{default:e(()=>[a(y,{icon:"ep:refresh",class:"mr-5px"}),U(" \u91CD\u7F6E")]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),a(R,null,{default:e(()=>[a(p,{modelValue:l(i),"onUpdate:modelValue":n[2]||(n[2]=s=>A(i)?i.value=s:null)},{default:e(()=>[a(t,{label:"\u5408\u540C\u91D1\u989D\u6392\u884C",name:"contractPriceRank",lazy:""},{default:e(()=>[a(ea,{"query-params":l(r),ref_key:"contractPriceRankRef",ref:D},null,8,["query-params"])]),_:1}),a(t,{label:"\u56DE\u6B3E\u91D1\u989D\u6392\u884C",name:"receivablePriceRank",lazy:""},{default:e(()=>[a(la,{"query-params":l(r),ref_key:"receivablePriceRankRef",ref:v},null,8,["query-params"])]),_:1}),a(t,{label:"\u7B7E\u7EA6\u5408\u540C\u6392\u884C",name:"contractCountRank",lazy:""},{default:e(()=>[a(ra,{"query-params":l(r),ref_key:"contractCountRankRef",ref:h},null,8,["query-params"])]),_:1}),a(t,{label:"\u4EA7\u54C1\u9500\u91CF\u6392\u884C",name:"productSalesRank",lazy:""},{default:e(()=>[a(ta,{"query-params":l(r),ref_key:"productSalesRankRef",ref:x},null,8,["query-params"])]),_:1}),a(t,{label:"\u65B0\u589E\u5BA2\u6237\u6570\u6392\u884C",name:"customerCountRank",lazy:""},{default:e(()=>[a(oa,{"query-params":l(r),ref_key:"customerCountRankRef",ref:V},null,8,["query-params"])]),_:1}),a(t,{label:"\u65B0\u589E\u8054\u7CFB\u4EBA\u6570\u6392\u884C",name:"contactCountRank",lazy:""},{default:e(()=>[a(sa,{"query-params":l(r),ref_key:"contactCountRankRef",ref:z},null,8,["query-params"])]),_:1}),a(t,{label:"\u8DDF\u8FDB\u6B21\u6570\u6392\u884C",name:"followCountRank",lazy:""},{default:e(()=>[a(na,{"query-params":l(r),ref_key:"followCountRankRef",ref:P},null,8,["query-params"])]),_:1}),a(t,{label:"\u8DDF\u8FDB\u5BA2\u6237\u6570\u6392\u884C",name:"followCustomerCountRank",lazy:""},{default:e(()=>[a(ua,{"query-params":l(r),ref_key:"followCustomerCountRankRef",ref:g},null,8,["query-params"])]),_:1})]),_:1},8,["modelValue"])]),_:1})],64)}}});export{ka as default};

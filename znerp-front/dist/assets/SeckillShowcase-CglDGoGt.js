import{d as q,b2 as E,ai as v,a3 as L,r as h,ar as N,aG as b,o as t,c as m,g as c,F as g,p as R,f as i,w as V,y as T,a4 as U,a as _,q as j,a5 as D,H as F,aL as G,_ as H}from"./index-CIfmhqRC.js";import{E as I}from"./el-image-DLpquQe6.js";import{e as M}from"./seckillActivity-C8ME84dn.js";import{_ as X}from"./SeckillTableSelect.vue_vue_type_script_setup_true_lang-D-EBRhkA.js";import"./Dialog.vue_vue_type_style_index_0_lang-CtaLqQeX.js";import"./ContentWrap.vue_vue_type_script_setup_true_lang-sm5dIhPQ.js";import"./el-card-DyMugU68.js";import"./index.vue_vue_type_script_setup_true_lang-DYHi04Tm.js";import"./index-CrBeVHKs.js";import"./DictTag.vue_vue_type_script_lang-CTpVFm77.js";import"./color-BN7ZL7BD.js";import"./tree-BMqZf9_I.js";import"./category-CKOb63Br.js";import"./formatter-CHMUnmj-.js";import"./formatTime-DFFN_xWx.js";const z={class:"flex flex-wrap items-center gap-8px"},B={class:"relative h-full w-full"},J=H(q({name:"SeckillShowcase",__name:"SeckillShowcase",props:{modelValue:E([Number,Array]).isRequired,limit:v.number.def(Number.MAX_VALUE),disabled:v.bool.def(!1)},emits:["update:modelValue","change"],setup(o,{emit:k}){const a=o,w=L(()=>!a.disabled&&(!a.limit||l.value.length<a.limit)),l=h([]);N(()=>a.modelValue,async()=>{const e=b(a.modelValue)?a.modelValue:a.modelValue?[a.modelValue]:[];e.length!==0?(l.value.length===0||l.value.some(d=>!e.includes(d.id)))&&(l.value=await M(e)):l.value=[]},{immediate:!0});const n=h(),y=()=>{n.value.open(l.value)},x=e=>{l.value=b(e)?e:[e],r()},s=k,r=()=>{if(a.limit===1){const e=l.value.length>0?l.value[0]:null;s("update:modelValue",(e==null?void 0:e.id)||0),s("change",e)}else s("update:modelValue",l.value.map(e=>e.id)),s("change",l.value)};return(e,d)=>{const A=I,p=F,f=G;return t(),m(g,null,[c("div",z,[(t(!0),m(g,null,R(_(l),(u,S)=>(t(),m("div",{key:u.id,class:"select-box spu-pic"},[i(f,{content:u.name},{default:V(()=>[c("div",B,[i(A,{src:u.picUrl,class:"h-full w-full"},null,8,["src"]),T(i(p,{class:"del-icon",icon:"ep:circle-close-filled",onClick:K=>(C=>{l.value.splice(C,1),r()})(S)},null,8,["onClick"]),[[U,!o.disabled]])])]),_:2},1032,["content"])]))),128)),_(w)?(t(),j(f,{key:0,content:"\u9009\u62E9\u6D3B\u52A8"},{default:V(()=>[c("div",{class:"select-box",onClick:y},[i(p,{icon:"ep:plus"})])]),_:1})):D("",!0)]),i(X,{ref_key:"seckillActivityTableSelectRef",ref:n,multiple:o.limit!=1,onChange:x},null,8,["multiple"])],64)}}}),[["__scopeId","data-v-3658626b"]]);export{J as default};

import{d as _,b3 as k,f8 as v,ai as V,o as m,c as h,f as e,w as a,x as w,g as n,a as s,q as C,a5 as I,aT as j,F as q,aB as D,H as $,aL as z,I as B}from"./index-CIfmhqRC.js";import{E}from"./el-text-DMgoq9G3.js";import{V as F}from"./vuedraggable.umd-CcTr7I5e.js";import{u as H}from"./util-jDjqY1ok.js";const L={class:"mb-4px flex flex-col gap-4px border border-gray-2 border-rounded rounded border-solid p-8px"},R={class:"m--8px m-b-4px flex flex-row items-center justify-between p-8px",style:{"background-color":"var(--app-content-bg-color)"}},T=n("span",null,"\u6DFB\u52A0",-1),A=_({name:"Draggable",__name:"index",props:{modelValue:k().isRequired,emptyItem:v().def({}),limit:V.number.def(0)},emits:["update:modelValue"],setup(l,{emit:c}){const r=l,p=c,{formData:t}=H(r.modelValue,p),u=()=>t.value.push(D(r.emptyItem||{}));return(f,G)=>{const x=E,o=$,i=z,b=B;return m(),h(q,null,[e(x,{type:"info",size:"small"},{default:a(()=>[w(" \u62D6\u52A8\u5DE6\u4E0A\u89D2\u7684\u5C0F\u5706\u70B9\u53EF\u5BF9\u5176\u6392\u5E8F ")]),_:1}),e(s(F),{list:s(t),"force-fallback":!0,animation:200,handle:".drag-icon",class:"m-t-8px","item-key":"index"},{item:a(({element:g,index:d})=>[n("div",L,[n("div",R,[e(i,{content:"\u62D6\u52A8\u6392\u5E8F"},{default:a(()=>[e(o,{icon:"ic:round-drag-indicator",class:"drag-icon cursor-move",style:{color:"#8a909c"}})]),_:1}),e(i,{content:"\u5220\u9664"},{default:a(()=>[s(t).length>1?(m(),C(o,{key:0,icon:"ep:delete",class:"cursor-pointer text-red-5",onClick:J=>(y=>t.value.splice(y,1))(d)},null,8,["onClick"])):I("",!0)]),_:2},1024)]),j(f.$slots,"default",{element:g,index:d})])]),_:3},8,["list"]),e(i,{disabled:l.limit<1,content:`\u6700\u591A\u6DFB\u52A0${l.limit}\u4E2A`},{default:a(()=>[e(b,{type:"primary",plain:"",class:"m-t-4px w-full",disabled:l.limit>0&&s(t).length>=l.limit,onClick:u},{default:a(()=>[e(o,{icon:"ep:plus"}),T]),_:1},8,["disabled"])]),_:1},8,["disabled","content"])],64)}}});export{A as _};

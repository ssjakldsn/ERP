import{P as c,_ as y}from"./util-jDjqY1ok.js";import{g as f,u as w}from"./page-C8k3MItl.js";import{u as _}from"./tagsView-CqxiFcdS.js";import{d as g,r as o,u as V,N as b,n as P,a,o as k,q as x,a5 as D,z as U}from"./index-CIfmhqRC.js";import"./Dialog.vue_vue_type_style_index_0_lang-CtaLqQeX.js";import"./Qrcode-DR4gTqIE.js";import"./el-text-DMgoq9G3.js";import"./IFrame.vue_vue_type_script_setup_true_lang-CiSUdYeS.js";import"./el-card-DyMugU68.js";import"./vuedraggable.umd-CcTr7I5e.js";import"./el-collapse-item-BgajxfOI.js";const j=g({name:"DiyPageDecorate",__name:"decorate",setup(q){const s=U(),r=o(!1),e=o(),l=o(),p=async()=>{if(l){r.value=!0;try{await w(a(e)),s.success("\u4FDD\u5B58\u6210\u529F")}finally{r.value=!1}}},{currentRoute:u}=V(),{delView:n}=_(),m=b();return P(()=>{var i;if(e.value={id:void 0,templateId:void 0,name:"",remark:"",previewPicUrls:[],property:""},(i=l.value)==null||i.resetFields(),!m.params.id)return s.warning("\u53C2\u6570\u9519\u8BEF\uFF0C\u9875\u9762\u7F16\u53F7\u4E0D\u80FD\u4E3A\u7A7A\uFF01"),void n(a(u));(async t=>{r.value=!0;try{e.value=await f(t)}finally{r.value=!1}})(m.params.id)}),(i,t)=>{const d=y;return a(e)&&!a(r)?(k(),x(d,{key:0,modelValue:a(e).property,"onUpdate:modelValue":t[0]||(t[0]=v=>a(e).property=v),title:a(e).name,libs:a(c),onSave:p},null,8,["modelValue","title","libs"])):D("",!0)}}});export{j as default};

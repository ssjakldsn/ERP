import{d as B,r,n as J,o as n,q as p,w as a,f as d,x as c,a as l,y as K,k as V,c as b,F as k,p as M,a5 as R,h as S,z as Z,dK as E,ak as G,al as H,C as L,A as P,B as Q,U as T,J as W,I as X,M as Y}from"./index-CIfmhqRC.js";import{_ as $}from"./Dialog.vue_vue_type_style_index_0_lang-CtaLqQeX.js";import{g as ee}from"./index-CqFYyUKb.js";import{d as ae}from"./index-DDOznnSc.js";const le=B({name:"OrderDeliveryForm",__name:"OrderDeliveryForm",emits:["success"],setup(se,{expose:x,emit:I}){const{t:w}=S(),h=Z(),u=r(!1),m=r(!1),i=r("express"),t=r({id:void 0,logisticsId:null,logisticsNo:""}),v=r();x({open:async s=>{U(),E(t.value,s),s.logisticsId===0&&(i.value="none"),u.value=!0}});const F=I,N=async()=>{m.value=!0;try{const s=l(t);i.value==="none"&&(s.logisticsId=0,s.logisticsNo=""),await ae(s),h.success(w("common.updateSuccess")),u.value=!1,F("success",!0)}finally{m.value=!1}},U=()=>{var s;t.value={id:void 0,logisticsId:null,logisticsNo:""},(s=v.value)==null||s.resetFields()},_=r([]);return J(async()=>{_.value=await ee()}),(s,o)=>{const y=G,C=H,f=L,O=P,q=Q,D=T,j=W,g=X,z=$,A=Y;return n(),p(z,{modelValue:l(u),"onUpdate:modelValue":o[4]||(o[4]=e=>V(u)?u.value=e:null),title:"\u8BA2\u5355\u53D1\u8D27",width:"25%"},{footer:a(()=>[d(g,{disabled:l(m),type:"primary",onClick:N},{default:a(()=>[c("\u786E \u5B9A")]),_:1},8,["disabled"]),d(g,{onClick:o[3]||(o[3]=e=>u.value=!1)},{default:a(()=>[c("\u53D6 \u6D88")]),_:1})]),default:a(()=>[K((n(),p(j,{ref_key:"formRef",ref:v,model:l(t),"label-width":"80px"},{default:a(()=>[d(f,{label:"\u53D1\u8D27\u65B9\u5F0F"},{default:a(()=>[d(C,{modelValue:l(i),"onUpdate:modelValue":o[0]||(o[0]=e=>V(i)?i.value=e:null)},{default:a(()=>[d(y,{border:"",value:"express"},{default:a(()=>[c("\u5FEB\u9012\u7269\u6D41")]),_:1}),d(y,{border:"",value:"none"},{default:a(()=>[c("\u65E0\u9700\u53D1\u8D27")]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(i)==="express"?(n(),b(k,{key:0},[d(f,{label:"\u7269\u6D41\u516C\u53F8"},{default:a(()=>[d(q,{modelValue:l(t).logisticsId,"onUpdate:modelValue":o[1]||(o[1]=e=>l(t).logisticsId=e),placeholder:"\u8BF7\u9009\u62E9",style:{width:"100%"}},{default:a(()=>[(n(!0),b(k,null,M(l(_),e=>(n(),p(O,{key:e.id,label:e.name,value:e.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),d(f,{label:"\u7269\u6D41\u5355\u53F7"},{default:a(()=>[d(D,{modelValue:l(t).logisticsNo,"onUpdate:modelValue":o[2]||(o[2]=e=>l(t).logisticsNo=e)},null,8,["modelValue"])]),_:1})],64)):R("",!0)]),_:1},8,["model"])),[[A,l(m)]])]),_:1},8,["modelValue"])}}});export{le as _};

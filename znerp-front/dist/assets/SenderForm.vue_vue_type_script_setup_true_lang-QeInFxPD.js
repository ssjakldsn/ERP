import{d as k,r as u,h as A,z,e as j,o as _,q as h,w as t,f as l,a as s,x as S,y as E,k as I,g as J,U as M,C as R,E as B,ce as D,J as G,I as H,M as K}from"./index-CIfmhqRC.js";import{_ as O}from"./Dialog.vue_vue_type_style_index_0_lang-CtaLqQeX.js";import{Z as N}from"./index-H3f_2XHj.js";const Q=J("span",{class:"text-gray-500"},"-",-1),T=k({name:"SenderForm",__name:"SenderForm",emits:["success"],setup(W,{expose:b,emit:U}){u([]);const{t:c}=A(),y=z(),m=u(!1),V=u(""),i=u(!1),C=u(""),a=u({id:void 0,senderCountryCode:"CN",senderFirstName:"",senderLastName:"",senderPhone:"",senderState:"",senderCity:"",senderStreet:"",senderCompany:"",senderZip:"",status:!0}),g=j({senderFirstName:[{required:!0,message:"\u8BF7\u8F93\u5165\u59D3",trigger:"blur"}],senderLastName:[{required:!0,message:"\u8BF7\u8F93\u5165\u540D\u5B57",trigger:"blur"}],senderPhone:[{required:!0,message:"\u8BF7\u8F93\u5165\u53D1\u4EF6\u4EBA\u7535\u8BDD",trigger:"blur"}]}),p=u(),x=()=>{var n;a.value={id:void 0,senderCountryCode:"CN",senderFirstName:"",senderLastName:"",senderPhone:"",senderState:"",senderCity:"",senderStreet:"",senderCompany:"",senderZip:"",status:!0},(n=p.value)==null||n.resetFields()};b({open:async(n,e)=>{if(m.value=!0,V.value=c("action."+n),C.value=n,x(),e){i.value=!0;try{a.value={id:e.id,senderCountryCode:e.senderCountryCode,senderFirstName:e.senderFirstName,senderLastName:e.senderLastName,senderPhone:e.senderPhone,senderState:e.senderState,senderCity:e.senderCity,senderStreet:e.senderStreet,senderCompany:e.senderCompany,senderZip:e.senderZip,status:e.status==1}}finally{i.value=!1}}}});const F=U,L=async()=>{if(p&&await p.value.validate()){i.value=!0;try{let n={...a.value,status:a.value.status?1:0};C.value==="create"?(await N.senderAddrCreate(n),y.success(c("common.createSuccess"))):(await N.senderAddrUpdate(n),y.success(c("common.updateSuccess"))),m.value=!1,F("success")}finally{i.value=!1}}};return(n,e)=>{const o=M,r=R,f=B,P=D,w=G,v=H,Z=O,q=K;return _(),h(Z,{modelValue:s(m),"onUpdate:modelValue":e[10]||(e[10]=d=>I(m)?m.value=d:null),title:s(V)},{footer:t(()=>[l(v,{disabled:s(i),type:"primary",onClick:L},{default:t(()=>[S("\u786E \u5B9A")]),_:1},8,["disabled"]),l(v,{onClick:e[9]||(e[9]=d=>m.value=!1)},{default:t(()=>[S("\u53D6 \u6D88")]),_:1})]),default:t(()=>[E((_(),h(w,{ref_key:"formRef",ref:p,model:s(a),rules:s(g),"label-width":"110px"},{default:t(()=>[l(r,{label:"\u59D3\u540D",required:""},{default:t(()=>[l(f,{span:4},{default:t(()=>[l(r,{prop:"senderFirstName"},{default:t(()=>[l(o,{style:{width:"70px"},modelValue:s(a).senderFirstName,"onUpdate:modelValue":e[0]||(e[0]=d=>s(a).senderFirstName=d),placeholder:"\u59D3"},null,8,["modelValue"])]),_:1})]),_:1}),l(f,{class:"text-center",span:2},{default:t(()=>[Q]),_:1}),l(f,{span:11},{default:t(()=>[l(r,{prop:"senderLastName"},{default:t(()=>[l(o,{style:{width:"100px"},modelValue:s(a).senderLastName,"onUpdate:modelValue":e[1]||(e[1]=d=>s(a).senderLastName=d),placeholder:"\u540D"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(r,{label:"\u53D1\u4EF6\u4EBA\u7535\u8BDD",prop:"senderPhone"},{default:t(()=>[l(o,{modelValue:s(a).senderPhone,"onUpdate:modelValue":e[2]||(e[2]=d=>s(a).senderPhone=d),placeholder:"\u8BF7\u8F93\u5165\u53D1\u4EF6\u4EBA\u7535\u8BDD"},null,8,["modelValue"])]),_:1}),l(r,{label:"\u7701/\u5DDE",prop:"senderState"},{default:t(()=>[l(o,{modelValue:s(a).senderState,"onUpdate:modelValue":e[3]||(e[3]=d=>s(a).senderState=d),placeholder:"\u8BF7\u8F93\u5165\u7701/\u5DDE"},null,8,["modelValue"])]),_:1}),l(r,{label:"\u6240\u5728\u57CE\u5E02",prop:"senderCity"},{default:t(()=>[l(o,{modelValue:s(a).senderCity,"onUpdate:modelValue":e[4]||(e[4]=d=>s(a).senderCity=d),placeholder:"\u8BF7\u8F93\u5165\u6240\u5728\u57CE\u5E02"},null,8,["modelValue"])]),_:1}),l(r,{label:"\u8BE6\u7EC6\u5730\u5740",prop:"senderStreet"},{default:t(()=>[l(o,{modelValue:s(a).senderStreet,"onUpdate:modelValue":e[5]||(e[5]=d=>s(a).senderStreet=d),placeholder:"\u8BF7\u8F93\u5165\u8BE6\u7EC6\u5730\u5740"},null,8,["modelValue"])]),_:1}),l(r,{label:"\u53D1\u4EF6\u4EBA\u516C\u53F8",prop:"senderCompany"},{default:t(()=>[l(o,{modelValue:s(a).senderCompany,"onUpdate:modelValue":e[6]||(e[6]=d=>s(a).senderCompany=d),placeholder:"\u8BF7\u8F93\u5165\u53D1\u4EF6\u4EBA\u516C\u53F8"},null,8,["modelValue"])]),_:1}),l(r,{label:"\u53D1\u4EF6\u4EBA\u90AE\u7F16"},{default:t(()=>[l(o,{modelValue:s(a).senderZip,"onUpdate:modelValue":e[7]||(e[7]=d=>s(a).senderZip=d),placeholder:"\u8BF7\u8F93\u5165\u53D1\u4EF6\u4EBA\u90AE\u7F16"},null,8,["modelValue"])]),_:1}),l(r,{label:"\u72B6\u6001"},{default:t(()=>[l(P,{modelValue:s(a).status,"onUpdate:modelValue":e[8]||(e[8]=d=>s(a).status=d),"inline-prompt":"","active-text":"\u542F\u7528","inactive-text":"\u7981\u7528"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),[[q,s(i)]])]),_:1},8,["modelValue","title"])}}});export{T as _};

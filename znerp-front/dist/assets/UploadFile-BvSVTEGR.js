import{d as b,z as g,b4 as I,r as U,e as v,o as x,q as h,w as o,g as q,aT as w,f as z,x as E,a as e,I as F,br as H,_ as j}from"./index-CIfmhqRC.js";import{b as S,a as T,U as $,H as k}from"./upload-BszPi5c5.js";import{U as i}from"./useUpload-Dugldi2L.js";const A={class:"el-upload__tip",style:{"margin-left":"5px"}},B=j(b({__name:"UploadFile",props:{type:{}},emits:["uploaded"],setup(l,{emit:d}){const t=g(),p=l,n=I("accountId"),r=U([]),u=d,s=v({type:i.Image,title:"",introduction:"",accountId:n}),c=p.type===i.Image?S:T,m=a=>{if(a.code!==0)return t.alertError("\u4E0A\u4F20\u51FA\u9519\uFF1A"+a.msg),!1;r.value=[],s.title="",s.introduction="",t.notifySuccess("\u4E0A\u4F20\u6210\u529F"),u("uploaded")},f=a=>t.error("\u4E0A\u4F20\u5931\u8D25: "+a.message);return(a,C)=>{const _=F,y=H;return x(),h(y,{action:e($),headers:e(k),multiple:"",limit:1,"file-list":e(r),data:e(s),"on-error":f,"before-upload":e(c),"on-success":m},{tip:o(()=>[q("span",A,[w(a.$slots,"default",{},void 0,!0)])]),default:o(()=>[z(_,{type:"primary",plain:""},{default:o(()=>[E(" \u70B9\u51FB\u4E0A\u4F20 ")]),_:1})]),_:3},8,["action","headers","file-list","data","before-upload"])}}}),[["__scopeId","data-v-bd722126"]]);export{B as default};

import{_ as z}from"./Dialog.vue_vue_type_style_index_0_lang-CtaLqQeX.js";import{d as A,r as o,z as B,e as j,o as p,q as v,w as t,f as u,x as y,a as l,c as D,F,p as I,k as J,U as O,C as R,A as S,B as Z,J as $,I as E}from"./index-CIfmhqRC.js";import{Z as G}from"./index-H3f_2XHj.js";const H=A({name:"CheckList",__name:"CheckList",emits:["success"],setup(K,{expose:_,emit:b}){const m=o(!1),d=o(!1),n=o("\u8BA2\u5355\u5BA1\u6838"),a=o({id:void 0,type:void 0,status:1}),V=o([{id:1,name:"\u4E00\u5355\u4E00\u4EF6"},{id:2,name:"\u4E00\u5355\u591A\u4EF6"}]),h=B(),k=j({type:[{required:!0,message:"\u8BF7\u9009\u62E9\u8BA2\u5355\u7C7B\u578B",trigger:"change"}]});_({open:async i=>{d.value=!0,i&&(a.value=i,a.value.type=void 0)}});const r=o(),w=b,x=async()=>{if(r&&await r.value.validate()){m.value=!0;try{let i={id:a.value.id,status:1,type:a.value.type};await G.updateOrderStatus(i),h.success(`${n.value}\u6210\u529F\uFF01`),d.value=!1,w("success")}finally{m.value=!1}}};return(i,s)=>{const g=O,c=R,C=S,U=Z,L=$,f=E,q=z;return p(),v(q,{title:l(n),modelValue:l(d),"onUpdate:modelValue":s[3]||(s[3]=e=>J(d)?d.value=e:null),width:"480"},{footer:t(()=>[u(f,{type:"primary",onClick:x},{default:t(()=>[y(" \u786E\u5B9A ")]),_:1}),u(f,{onClick:s[2]||(s[2]=e=>d.value=!1)},{default:t(()=>[y("\u53D6 \u6D88")]),_:1})]),default:t(()=>[u(L,{class:"-mb-15px",ref_key:"formRef",ref:r,model:l(a),rules:l(k),"label-width":"100px"},{default:t(()=>[u(c,{label:"\u8BA2\u5355\u53F7"},{default:t(()=>[u(g,{modelValue:l(a).id,"onUpdate:modelValue":s[0]||(s[0]=e=>l(a).id=e),placeholder:"\u8BF7\u8F93\u5165\u8BA2\u5355\u5355\u53F7",clearable:"",disabled:"",class:"!w-160px"},null,8,["modelValue"])]),_:1}),u(c,{label:"\u7C7B\u578B",prop:"type"},{default:t(()=>[u(U,{modelValue:l(a).type,"onUpdate:modelValue":s[1]||(s[1]=e=>l(a).type=e),clearable:"",filterable:"",placeholder:"\u8BF7\u9009\u62E9\u7C7B\u578B",class:"!w-240px"},{default:t(()=>[(p(!0),D(F,null,I(l(V),e=>(p(),v(C,{key:e.id,label:e.name,value:e.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["title","modelValue"])}}});export{H as _};

import{d as P,z as R,h as A,r as u,e as D,n as I,o as N,c as J,f as e,w as a,a as n,x as i,y as K,q as M,t as W,F as Z,U as $,C as B,H as E,I as G,J as Q,K as T,L as X,M as Y}from"./index-CIfmhqRC.js";import{_ as ee}from"./index.vue_vue_type_script_setup_true_lang-DYHi04Tm.js";import{_ as ae}from"./ContentWrap.vue_vue_type_script_setup_true_lang-sm5dIhPQ.js";import{Z as v}from"./index-H3f_2XHj.js";import{_ as le}from"./ClearancelForm.vue_vue_type_script_setup_true_lang-DflEDc8e.js";import"./index-CrBeVHKs.js";import"./el-card-DyMugU68.js";import"./Dialog.vue_vue_type_style_index_0_lang-CtaLqQeX.js";const te=P({__name:"index",setup(se){const g=R(),{t:z}=A(),d=u(!0),_=u(0),b=u([]),o=D({pageNo:1,pageSize:10,name:""}),p=async()=>{d.value=!0;try{const r=await v.logisticsCustomsPage(o);b.value=r.list,_.value=r.total}finally{d.value=!1}},y=()=>{o.pageNo=1,p()},k=u(),S=()=>{k.value.resetFields(),y()},w=u(),C=(r,l)=>{w.value.open(r,l)},U=[{1:"\u542B\u7535"},{2:"\u542B\u975E\u6DB2\u4F53\u5316\u5986\u54C1"},{3:"\u7279\u8D27 (\u654F\u611F\u8D27)"}],j=r=>{if(r){let l=r.split(",").map(Number);return U.filter(c=>l.includes(Number(Object.keys(c)[0]))).map(c=>Object.values(c)[0]).join(",")}};return I(()=>{p()}),(r,l)=>{const c=$,h=B,f=E,m=G,F=Q,x=ae,s=T,V=X,q=ee,H=Y;return N(),J(Z,null,[e(x,null,{default:a(()=>[e(F,{ref_key:"queryFormRef",ref:k,inline:!0,model:n(o),class:"-mb-15px","label-width":"88px"},{default:a(()=>[e(h,{label:"\u62A5\u5173\u540D",prop:"name"},{default:a(()=>[e(c,{modelValue:n(o).name,"onUpdate:modelValue":l[0]||(l[0]=t=>n(o).name=t),placeholder:"\u8BF7\u8F93\u5165\u62A5\u5173\u540D",clearable:"",class:"!w-240px"},null,8,["modelValue"])]),_:1}),e(h,null,{default:a(()=>[e(m,{onClick:y},{default:a(()=>[e(f,{class:"mr-5px",icon:"ep:search"}),i(" \u641C\u7D22 ")]),_:1}),e(m,{onClick:S},{default:a(()=>[e(f,{class:"mr-5px",icon:"ep:refresh"}),i(" \u91CD\u7F6E ")]),_:1}),e(m,{type:"primary",plain:"",onClick:l[1]||(l[1]=t=>C("create"))},{default:a(()=>[e(f,{icon:"ep:plus",class:"mr-5px"}),i(" \u65B0\u589E\u62A5\u5173\u6A21\u677F ")]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),e(x,null,{default:a(()=>[K((N(),M(V,{data:n(b),stripe:!0},{default:a(()=>[e(s,{align:"center",label:"\u81EA\u5B9A\u4E49\u540D\u79F0",prop:"name"}),e(s,{align:"center",label:"\u4E2D\u6587\u62A5\u5173\u540D",prop:"zhName"}),e(s,{align:"left",label:"\u82F1\u6587\u62A5\u5173\u540D",prop:"enName"}),e(s,{label:"\u7533\u62A5\u91D1\u989D/USD","min-width":"160",align:"center",prop:"taxAmount"}),e(s,{align:"center",label:"\u7533\u62A5\u91CD\u91CF/g",prop:"grossWeight"}),e(s,{align:"center",label:"\u6750\u8D28",prop:"material"}),e(s,{align:"center",label:"\u7528\u9014",prop:"used"}),e(s,{align:"center",label:"\u6D77\u5173\u7F16\u7801",prop:"customsCode"}),e(s,{align:"center",label:"\u4EA7\u54C1\u5C5E\u6027"},{default:a(t=>[i(W(j(t.row.attributes)),1)]),_:1}),e(s,{width:160,align:"center",label:"\u64CD\u4F5C"},{default:a(t=>[e(m,{link:"",type:"primary",onClick:L=>C("update",t.row)},{default:a(()=>[i(" \u7F16\u8F91 ")]),_:2},1032,["onClick"]),e(m,{link:"",type:"danger",onClick:L=>(async O=>{try{await g.delConfirm(),await v.deleteLogisticsCustoms(O),g.success(z("common.delSuccess")),await p()}catch{}})(t.row.id)},{default:a(()=>[i(" \u5220\u9664 ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[H,n(d)]]),e(q,{limit:n(o).pageSize,"onUpdate:limit":l[2]||(l[2]=t=>n(o).pageSize=t),page:n(o).pageNo,"onUpdate:page":l[3]||(l[3]=t=>n(o).pageNo=t),total:n(_),onPagination:p},null,8,["limit","page","total"])]),_:1}),e(le,{ref_key:"formRef",ref:w,onSuccess:p},null,512)],64)}}});export{te as default};

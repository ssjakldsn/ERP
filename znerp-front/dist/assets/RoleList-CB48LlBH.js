import{d as q,r as x,o as n,c as r,F as B,p as C,f as a,w as e,x as p,g as s,a as H,e3 as D,a5 as I,t as v,bm as M,I as P,H as R,_ as U}from"./index-CIfmhqRC.js";import{E as z}from"./el-card-DyMugU68.js";import{E as A,a as F,b as S}from"./el-dropdown-item-CvgBZuG7.js";const j={key:0,class:"more-container"},T={class:"el-dropdown-link"},G=["src"],J={class:"right-container"},K={class:"content-container"},N={class:"title"},O={class:"description"},Q={class:"btn-container"},V=U(q({__name:"RoleList",props:{loading:{type:Boolean,required:!0},roleList:{type:Array,required:!0},showMore:{type:Boolean,required:!1,default:!1}},emits:["onDelete","onEdit","onUse","onPage"],setup(i,{emit:_}){const c=x(),g=i,m=_,b=async t=>{const d=t[0],l=t[1];m(d==="delete"?"onDelete":"onEdit",l)},k=async()=>{if(c.value){const{scrollTop:t,scrollHeight:d,clientHeight:l}=c.value;t+l>=d-20&&!g.loading&&await m("onPage")}};return(t,d)=>{const l=M,u=P,f=R,y=A,w=F,h=S,E=z;return n(),r("div",{class:"card-list",ref_key:"tabsRef",ref:c,onScroll:k},[(n(!0),r(B,null,C(i.roleList,o=>(n(),r("div",{class:"card-item",key:o.id},[a(E,{class:"card","body-class":"card-body"},{default:e(()=>[i.showMore?(n(),r("div",j,[a(h,{onCommand:b},{dropdown:e(()=>[a(w,null,{default:e(()=>[a(y,{command:["edit",o]},{default:e(()=>[a(f,{icon:"ep:edit",color:"#787878"}),p("\u7F16\u8F91 ")]),_:2},1032,["command"]),a(y,{command:["delete",o],style:{color:"red"}},{default:e(()=>[a(f,{icon:"ep:delete",color:"red"}),p("\u5220\u9664 ")]),_:2},1032,["command"])]),_:2},1024)]),default:e(()=>[s("span",T,[a(u,{type:"text"},{default:e(()=>[a(l,null,{default:e(()=>[a(H(D))]),_:1})]),_:1})])]),_:2},1024)])):I("",!0),s("div",null,[s("img",{class:"avatar",src:o.avatar},null,8,G)]),s("div",J,[s("div",K,[s("div",N,v(o.name),1),s("div",O,v(o.description),1)]),s("div",Q,[a(u,{type:"primary",size:"small",onClick:W=>(L=>{m("onUse",L)})(o)},{default:e(()=>[p("\u4F7F\u7528")]),_:2},1032,["onClick"])])])]),_:2},1024)]))),128))],544)}}}),[["__scopeId","data-v-ddadb27a"]]);export{V as default};

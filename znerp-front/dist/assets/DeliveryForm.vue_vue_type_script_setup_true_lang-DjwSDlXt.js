import{d as g,ai as j,r as n,e as f,ar as A,n as N,o as t,q as o,w as r,a as e,J as O,f as p,c as T,p as D,x as S,t as C,Q as U,D as Y,F as _,a5 as q,z,dK as B,ae as J,ca as K,C as L,A as Q,B as X}from"./index-CIfmhqRC.js";import{g as G}from"./index-vowoPdPv.js";import{D as H}from"./constants-A8BI3pz7.js";import{r as b}from"./formRules-C3y0LKNH.js";const M=g({name:"ProductDeliveryForm",__name:"DeliveryForm",props:{propFormData:{type:Object,default:()=>{}},isDetail:j.bool.def(!1)},emits:["update:activeName"],setup(m,{expose:w,emit:I}){const V=z(),u=m,i=n(),l=f({deliveryTypes:[],deliveryTemplateId:void 0}),E=f({deliveryTypes:[b],deliveryTemplateId:[b]});A(()=>u.propFormData,s=>{s&&B(l,s)},{immediate:!0});const F=I;w({validate:async()=>{var s;if(i)try{await((s=e(i))==null?void 0:s.validate()),Object.assign(u.propFormData,l)}catch(d){throw V.error("\u3010\u7269\u6D41\u8BBE\u7F6E\u3011\u4E0D\u5B8C\u5584\uFF0C\u8BF7\u586B\u5199\u76F8\u5173\u4FE1\u606F"),F("update:activeName","delivery"),d}}});const y=n([]);return N(async()=>{y.value=await G()}),(s,d)=>{const h=J,k=K,v=L,x=Q,R=X,P=O;return t(),o(P,{ref_key:"formRef",ref:i,model:e(l),rules:e(E),"label-width":"120px",disabled:m.isDetail},{default:r(()=>{var c;return[p(v,{label:"\u914D\u9001\u65B9\u5F0F",prop:"deliveryTypes"},{default:r(()=>[p(k,{modelValue:e(l).deliveryTypes,"onUpdate:modelValue":d[0]||(d[0]=a=>e(l).deliveryTypes=a),class:"w-80"},{default:r(()=>[(t(!0),T(_,null,D(e(U)(e(Y).TRADE_DELIVERY_TYPE),a=>(t(),o(h,{key:a.value,value:a.value},{default:r(()=>[S(C(a.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1}),(c=e(l).deliveryTypes)!=null&&c.includes(e(H).EXPRESS.type)?(t(),o(v,{key:0,label:"\u8FD0\u8D39\u6A21\u677F",prop:"deliveryTemplateId"},{default:r(()=>[p(R,{placeholder:"\u8BF7\u9009\u62E9\u8FD0\u8D39\u6A21\u677F",modelValue:e(l).deliveryTemplateId,"onUpdate:modelValue":d[1]||(d[1]=a=>e(l).deliveryTemplateId=a),class:"w-80"},{default:r(()=>[(t(!0),T(_,null,D(e(y),a=>(t(),o(x,{key:a.id,label:a.name,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})):q("",!0)]}),_:1},8,["model","rules","disabled"])}}});export{M as _};

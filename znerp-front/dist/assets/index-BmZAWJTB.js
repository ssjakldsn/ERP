import{_ as aa}from"./ContentWrap.vue_vue_type_script_setup_true_lang-sm5dIhPQ.js";import{d as ea,N as la,u as ta,r as S,n as sa,o as n,c as R,f as a,w as e,x as r,t as u,a as l,D as d,aD as N,F as h,p as F,q as _,a5 as w,g as b,aE as ra,at as ua,h as oa,z as na,aF as ca,aG as pa,aH as da,I as ia,av as fa,K as _a,L as ma,E as ya,j as ba,a0 as Ea,a1 as va,_ as wa}from"./index-CIfmhqRC.js";import{E as Ta,a as Aa}from"./el-timeline-item-r9TewDuU.js";import{E as ka}from"./el-image-DLpquQe6.js";import{E as Ra,a as ha}from"./el-descriptions-item-BL6ba85F.js";import{_ as Ca}from"./DictTag.vue_vue_type_script_lang-CTpVFm77.js";import{g as Da,a as Na,r as Fa,b as Pa,c as ga}from"./index-CVn1e3q1.js";import{f as x}from"./formatTime-DFFN_xWx.js";import{_ as La}from"./AfterSaleDisagreeForm.vue_vue_type_script_setup_true_lang-D-3FcwKk.js";import{u as Sa}from"./tagsView-CqxiFcdS.js";import"./el-card-DyMugU68.js";import"./color-BN7ZL7BD.js";import"./Dialog.vue_vue_type_style_index_0_lang-CtaLqQeX.js";const P=T=>(Ea("data-v-eca24564"),T=T(),va(),T),xa=P(()=>b("span",{style:{color:"red"}},"\u63D0\u9192: ",-1)),Ya=P(()=>b("br",null,null,-1)),Ia=P(()=>b("br",null,null,-1)),Ua={class:"el-timeline-right-content"},Ma=ea({name:"TradeAfterSaleDetail",__name:"index",setup(T){const{t:A}=oa(),c=na(),{params:Y}=la(),{push:I,currentRoute:U}=ta(),t=S({order:{},logs:[]}),g=S(),M=i=>{const p=ca(d.USER_TYPE,i);switch(p==null?void 0:p.colorType){case"success":return"#67C23A";case"info":return"#909399";case"warning":return"#E6A23C";case"danger":return"#F56C6C"}return"#409EFF"},y=async()=>{const i=Y.id;if(i){const p=await Da(i);p==null&&(c.notifyError("\u552E\u540E\u8BA2\u5355\u4E0D\u5B58\u5728"),j()),t.value=p}},O=async()=>{try{await c.confirm("\u662F\u5426\u540C\u610F\u552E\u540E\uFF1F"),await Na(t.value.id),c.success(A("common.success")),await y()}catch{}},q=async()=>{var i;(i=g.value)==null||i.open(t.value)},z=async()=>{try{await c.confirm("\u662F\u5426\u786E\u8BA4\u6536\u8D27\uFF1F"),await Fa(t.value.id),c.success(A("common.success")),await y()}catch{}},H=async()=>{try{await c.confirm("\u662F\u5426\u62D2\u7EDD\u6536\u8D27\uFF1F"),await Pa(t.value.id),c.success(A("common.success")),await y()}catch{}},V=async()=>{try{await c.confirm("\u662F\u5426\u786E\u8BA4\u9000\u6B3E\uFF1F"),await ga(t.value.id),c.success(A("common.success")),await y()}catch{}},{delView:W}=Sa(),j=()=>{W(l(U)),I({name:"TradeAfterSale"})};return sa(async()=>{await y()}),(i,p)=>{const s=Ra,m=Ca,E=ha,G=ka,v=ia,J=fa,k=_a,K=ma,L=ya,B=ba,Q=Ta,X=Aa,Z=aa;return n(),R(h,null,[a(Z,null,{default:e(()=>[a(E,{title:"\u8BA2\u5355\u4FE1\u606F"},{default:e(()=>[a(s,{label:"\u8BA2\u5355\u53F7: "},{default:e(()=>[r(u(l(t).orderNo),1)]),_:1}),a(s,{label:"\u914D\u9001\u65B9\u5F0F: "},{default:e(()=>[a(m,{type:l(d).TRADE_DELIVERY_TYPE,value:l(t).order.deliveryType},null,8,["type","value"])]),_:1}),a(s,{label:"\u8BA2\u5355\u7C7B\u578B: "},{default:e(()=>[a(m,{type:l(d).TRADE_ORDER_TYPE,value:l(t).order.type},null,8,["type","value"])]),_:1}),a(s,{label:"\u6536\u8D27\u4EBA: "},{default:e(()=>[r(u(l(t).order.receiverName),1)]),_:1}),a(s,{label:"\u4E70\u5BB6\u7559\u8A00: "},{default:e(()=>[r(u(l(t).order.userRemark),1)]),_:1}),a(s,{label:"\u8BA2\u5355\u6765\u6E90: "},{default:e(()=>[a(m,{type:l(d).TERMINAL,value:l(t).order.terminal},null,8,["type","value"])]),_:1}),a(s,{label:"\u8054\u7CFB\u7535\u8BDD: "},{default:e(()=>[r(u(l(t).order.receiverMobile),1)]),_:1}),a(s,{label:"\u5546\u5BB6\u5907\u6CE8: "},{default:e(()=>[r(u(l(t).order.remark),1)]),_:1}),a(s,{label:"\u652F\u4ED8\u5355\u53F7: "},{default:e(()=>[r(u(l(t).order.payOrderId),1)]),_:1}),a(s,{label:"\u4ED8\u6B3E\u65B9\u5F0F: "},{default:e(()=>[a(m,{type:l(d).PAY_CHANNEL_CODE,value:l(t).order.payChannelCode},null,8,["type","value"])]),_:1}),a(s,{label:"\u4E70\u5BB6: "},{default:e(()=>{var o,f;return[r(u((f=(o=l(t))==null?void 0:o.user)==null?void 0:f.nickname),1)]}),_:1})]),_:1}),a(E,{title:"\u552E\u540E\u4FE1\u606F"},{default:e(()=>[a(s,{label:"\u9000\u6B3E\u7F16\u53F7: "},{default:e(()=>[r(u(l(t).no),1)]),_:1}),a(s,{label:"\u7533\u8BF7\u65F6\u95F4: "},{default:e(()=>[r(u(l(x)(l(t).auditTime)),1)]),_:1}),a(s,{label:"\u552E\u540E\u7C7B\u578B: "},{default:e(()=>[a(m,{type:l(d).TRADE_AFTER_SALE_TYPE,value:l(t).type},null,8,["type","value"])]),_:1}),a(s,{label:"\u552E\u540E\u65B9\u5F0F: "},{default:e(()=>[a(m,{type:l(d).TRADE_AFTER_SALE_WAY,value:l(t).way},null,8,["type","value"])]),_:1}),a(s,{label:"\u9000\u6B3E\u91D1\u989D: "},{default:e(()=>[r(u(l(N)(l(t).refundPrice)),1)]),_:1}),a(s,{label:"\u9000\u6B3E\u539F\u56E0: "},{default:e(()=>[r(u(l(t).applyReason),1)]),_:1}),a(s,{label:"\u8865\u5145\u63CF\u8FF0: "},{default:e(()=>[r(u(l(t).applyDescription),1)]),_:1}),a(s,{label:"\u51ED\u8BC1\u56FE\u7247: "},{default:e(()=>[(n(!0),R(h,null,F(l(t).applyPicUrls,(o,f)=>(n(),_(G,{key:f,src:o.url,class:"mr-10px h-60px w-60px",onClick:p[0]||(p[0]=qa=>(C=>{const D=[];pa(C)?C.forEach($=>{D.push($.url)}):D.push(C),da({urlList:D})})(l(t).applyPicUrls))},null,8,["src"]))),128))]),_:1})]),_:1}),a(E,{column:1,title:"\u9000\u6B3E\u72B6\u6001"},{default:e(()=>[a(s,{label:"\u9000\u6B3E\u72B6\u6001: "},{default:e(()=>[a(m,{type:l(d).TRADE_AFTER_SALE_STATUS,value:l(t).status},null,8,["type","value"])]),_:1}),a(s,{"label-class-name":"no-colon"},{default:e(()=>[l(t).status===10?(n(),_(v,{key:0,type:"primary",onClick:O},{default:e(()=>[r("\u540C\u610F\u552E\u540E")]),_:1})):w("",!0),l(t).status===10?(n(),_(v,{key:1,type:"primary",onClick:q},{default:e(()=>[r(" \u62D2\u7EDD\u552E\u540E ")]),_:1})):w("",!0),l(t).status===30?(n(),_(v,{key:2,type:"primary",onClick:z},{default:e(()=>[r(" \u786E\u8BA4\u6536\u8D27 ")]),_:1})):w("",!0),l(t).status===30?(n(),_(v,{key:3,type:"primary",onClick:H},{default:e(()=>[r("\u62D2\u7EDD\u6536\u8D27")]),_:1})):w("",!0),l(t).status===40?(n(),_(v,{key:4,type:"primary",onClick:V},{default:e(()=>[r("\u786E\u8BA4\u9000\u6B3E")]),_:1})):w("",!0)]),_:1}),a(s,null,{label:e(()=>[xa]),default:e(()=>[r(" \u5982\u679C\u672A\u53D1\u8D27\uFF0C\u8BF7\u70B9\u51FB\u540C\u610F\u9000\u6B3E\u7ED9\u4E70\u5BB6\u3002"),Ya,r(" \u5982\u679C\u5B9E\u9645\u5DF2\u53D1\u8D27\uFF0C\u8BF7\u4E3B\u52A8\u4E0E\u4E70\u5BB6\u8054\u7CFB\u3002"),Ia,r(" \u5982\u679C\u8BA2\u5355\u6574\u4F53\u9000\u6B3E\u540E\uFF0C\u4F18\u60E0\u5238\u548C\u4F59\u989D\u4F1A\u9000\u8FD8\u7ED9\u4E70\u5BB6. ")]),_:1})]),_:1}),a(E,{title:"\u5546\u54C1\u4FE1\u606F"},{default:e(()=>[a(s,{labelClassName:"no-colon"},{default:e(()=>[a(B,{gutter:20},{default:e(()=>[a(L,{span:15},{default:e(()=>[a(K,{data:[l(t).orderItem],border:""},{default:e(()=>[a(k,{label:"\u5546\u54C1",prop:"spuName",width:"auto"},{default:e(({row:o})=>[r(u(o.spuName)+" ",1),(n(!0),R(h,null,F(o.properties,f=>(n(),_(J,{key:f.propertyId},{default:e(()=>[r(u(f.propertyName)+": "+u(f.valueName),1)]),_:2},1024))),128))]),_:1}),a(k,{label:"\u5546\u54C1\u539F\u4EF7",prop:"price",width:"150"},{default:e(({row:o})=>[r(u(l(N)(o.price))+" \u5143",1)]),_:1}),a(k,{label:"\u6570\u91CF",prop:"count",width:"100"}),a(k,{label:"\u5408\u8BA1",prop:"payPrice",width:"150"},{default:e(({row:o})=>[r(u(l(N)(o.payPrice))+" \u5143",1)]),_:1})]),_:1},8,["data"])]),_:1}),a(L,{span:10})]),_:1})]),_:1})]),_:1}),a(E,{title:"\u552E\u540E\u65E5\u5FD7"},{default:e(()=>[a(s,{labelClassName:"no-colon"},{default:e(()=>[a(X,null,{default:e(()=>[(n(!0),R(h,null,F(l(t).logs,o=>(n(),_(Q,{key:o.id,timestamp:l(x)(o.createTime),placement:"top"},{dot:e(()=>[b("span",{style:ua({backgroundColor:M(o.userType)}),class:"dot-node-style"},u(l(ra)(l(d).USER_TYPE,o.userType)[0]||"\u7CFB"),5)]),default:e(()=>[b("div",Ua,[b("span",null,u(o.content),1)])]),_:2},1032,["timestamp"]))),128))]),_:1})]),_:1})]),_:1})]),_:1}),a(La,{ref_key:"updateAuditReasonFormRef",ref:g,onSuccess:y},null,512)],64)}}}),Oa=wa(Ma,[["__scopeId","data-v-eca24564"]]);export{Oa as default};

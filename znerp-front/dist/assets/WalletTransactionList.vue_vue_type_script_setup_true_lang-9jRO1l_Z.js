import{d as x,r as d,e as T,n as z,o as g,q as f,w as i,y as L,a,f as l,x as w,t as I,aD as b,K as S,L as h,M as U}from"./index-CIfmhqRC.js";import{_ as W}from"./ContentWrap.vue_vue_type_script_setup_true_lang-sm5dIhPQ.js";import{_ as j}from"./index.vue_vue_type_script_setup_true_lang-DYHi04Tm.js";import{d as D}from"./formatTime-DFFN_xWx.js";import{g as K}from"./index-BBZXqAWu.js";import{g as M}from"./index-W27YgfZA.js";const P=x({name:"WalletTransactionList",__name:"WalletTransactionList",props:{walletId:{type:Number,required:!1},userId:{type:Number,required:!1}},setup(_){const s=_,p=d(!0),u=d(0),e=T({pageNo:1,pageSize:10,walletId:null}),m=d([]),c=async()=>{p.value=!0;try{if(s.userId){const r=await M({userId:s.userId});e.walletId=r.id}else e.walletId=s.walletId;const n=await K(e);m.value=n.list,u.value=n.total}finally{p.value=!1}};return z(()=>{c()}),(n,r)=>{const o=S,y=h,v=j,N=W,q=U;return g(),f(N,null,{default:i(()=>[L((g(),f(y,{data:a(m),"show-overflow-tooltip":!0,stripe:!0},{default:i(()=>[l(o,{align:"center",label:"\u7F16\u53F7",prop:"id"}),l(o,{align:"center",label:"\u94B1\u5305\u7F16\u53F7",prop:"walletId"}),l(o,{align:"center",label:"\u5173\u8054\u4E1A\u52A1\u6807\u9898",prop:"title"}),l(o,{align:"center",label:"\u4EA4\u6613\u91D1\u989D",prop:"price"},{default:i(({row:t})=>[w(I(a(b)(t.price))+" \u5143",1)]),_:1}),l(o,{align:"center",label:"\u94B1\u5305\u4F59\u989D",prop:"balance"},{default:i(({row:t})=>[w(I(a(b)(t.balance))+" \u5143",1)]),_:1}),l(o,{formatter:a(D),align:"center",label:"\u4EA4\u6613\u65F6\u95F4",prop:"createTime",width:"180px"},null,8,["formatter"])]),_:1},8,["data"])),[[q,a(p)]]),l(v,{limit:a(e).pageSize,"onUpdate:limit":r[0]||(r[0]=t=>a(e).pageSize=t),page:a(e).pageNo,"onUpdate:page":r[1]||(r[1]=t=>a(e).pageNo=t),total:a(u),onPagination:c},null,8,["limit","page","total"])]),_:1})}}});export{P as _};

import{d as q,z as H,r as m,c8 as O,e as T,O as A,o as _,c as B,f as e,w as t,a,k as x,x as d,y as I,q as S,F as E,C as G,J as K,H as L,j as Q,l as R,I as W,m as $}from"./index-CIfmhqRC.js";import{_ as X}from"./index.vue_vue_type_script_setup_true_lang-DYHi04Tm.js";import{_ as Y}from"./ContentWrap.vue_vue_type_script_setup_true_lang-sm5dIhPQ.js";import{_ as Z}from"./index-2RHHZ-Zv.js";import{_ as aa}from"./main.vue_vue_type_script_setup_true_lang-Ds9hfoYc.js";import ea from"./ImageTable-WZ_sv-nA.js";import{_ as la}from"./VoiceTable.vue_vue_type_script_setup_true_lang-sDRUz269.js";import{_ as ta}from"./VideoTable.vue_vue_type_script_setup_true_lang-CIcgyCFi.js";import P from"./UploadFile-BvSVTEGR.js";import{_ as oa}from"./UploadVideo.vue_vue_type_script_setup_true_lang-mGSO2era.js";import"./upload-BszPi5c5.js";import{g as ia,d as pa}from"./index-B3YA5cCI.js";import{U as r}from"./useUpload-Dugldi2L.js";import"./index-CrBeVHKs.js";import"./el-card-DyMugU68.js";import"./index-Dsi5T0R-.js";import"./main-D-MTREjU.js";import"./formatTime-DFFN_xWx.js";import"./main.vue_vue_type_script_setup_true_lang-4T-wzdRZ.js";const na=q({__name:"index",setup(ma){const w=H(),c=m(r.Image),u=m(!1),s=m([]),g=m(0),v=m(-1);O("accountId",v);const o=T({pageNo:1,pageSize:10,accountId:v,permanent:!0}),f=m(!1),C=p=>{v.value=p,o.accountId=p,o.pageNo=1,n()},n=async()=>{u.value=!0;try{const p=await ia({...o,type:c.value});s.value=p.list,g.value=p.total}finally{u.value=!1}},D=()=>{s.value=[],g.value=0,o.pageNo=1,n()},y=async p=>{await w.confirm("\u6B64\u64CD\u4F5C\u5C06\u6C38\u4E45\u5220\u9664\u8BE5\u6587\u4EF6, \u662F\u5426\u7EE7\u7EED?"),await pa(p),w.alertSuccess("\u5220\u9664\u6210\u529F")};return(p,l)=>{const j=Z,F=G,k=K,h=Y,U=L,N=Q,V=X,b=R,J=W,M=$,z=A("hasPermi");return _(),B(E,null,[e(j,{title:"\u516C\u4F17\u53F7\u7D20\u6750",url:"https://doc.iocoder.cn/mp/material/"}),e(h,null,{default:t(()=>[e(k,{class:"-mb-15px",inline:!0,"label-width":"68px"},{default:t(()=>[e(F,{label:"\u516C\u4F17\u53F7",prop:"accountId"},{default:t(()=>[e(a(aa),{onChange:C})]),_:1})]),_:1})]),_:1}),e(h,null,{default:t(()=>[e(M,{modelValue:a(c),"onUpdate:modelValue":l[8]||(l[8]=i=>x(c)?c.value=i:null),onTabChange:D},{default:t(()=>[e(b,{name:a(r).Image},{label:t(()=>[e(N,{align:"middle"},{default:t(()=>[e(U,{icon:"ep:picture"}),d("\u56FE\u7247 ")]),_:1})]),default:t(()=>[I((_(),S(P,{type:a(r).Image,onUploaded:n},{default:t(()=>[d(" \u652F\u6301 bmp/png/jpeg/jpg/gif \u683C\u5F0F\uFF0C\u5927\u5C0F\u4E0D\u8D85\u8FC7 2M ")]),_:1},8,["type"])),[[z,["mp:material:upload-permanent"]]]),e(ea,{loading:a(u),list:a(s),onDelete:y},null,8,["loading","list"]),e(V,{total:a(g),page:a(o).pageNo,"onUpdate:page":l[0]||(l[0]=i=>a(o).pageNo=i),limit:a(o).pageSize,"onUpdate:limit":l[1]||(l[1]=i=>a(o).pageSize=i),onPagination:n},null,8,["total","page","limit"])]),_:1},8,["name"]),e(b,{name:a(r).Voice},{label:t(()=>[e(N,{align:"middle"},{default:t(()=>[e(U,{icon:"ep:microphone"}),d("\u8BED\u97F3 ")]),_:1})]),default:t(()=>[I((_(),S(P,{type:a(r).Voice,onUploaded:n},{default:t(()=>[d(" \u683C\u5F0F\u652F\u6301 mp3/wma/wav/amr\uFF0C\u6587\u4EF6\u5927\u5C0F\u4E0D\u8D85\u8FC7 2M\uFF0C\u64AD\u653E\u957F\u5EA6\u4E0D\u8D85\u8FC7 60s ")]),_:1},8,["type"])),[[z,["mp:material:upload-permanent"]]]),e(la,{list:a(s),loading:a(u),onDelete:y},null,8,["list","loading"]),e(V,{total:a(g),page:a(o).pageNo,"onUpdate:page":l[2]||(l[2]=i=>a(o).pageNo=i),limit:a(o).pageSize,"onUpdate:limit":l[3]||(l[3]=i=>a(o).pageSize=i),onPagination:n},null,8,["total","page","limit"])]),_:1},8,["name"]),e(b,{name:a(r).Video},{label:t(()=>[e(N,{align:"middle"},{default:t(()=>[e(U,{icon:"ep:video-play"}),d(" \u89C6\u9891 ")]),_:1})]),default:t(()=>[I((_(),S(J,{type:"primary",plain:"",onClick:l[4]||(l[4]=i=>f.value=!0)},{default:t(()=>[d("\u65B0\u5EFA\u89C6\u9891")]),_:1})),[[z,["mp:material:upload-permanent"]]]),e(oa,{modelValue:a(f),"onUpdate:modelValue":l[5]||(l[5]=i=>x(f)?f.value=i:null)},null,8,["modelValue"]),e(ta,{list:a(s),loading:a(u),onDelete:y},null,8,["list","loading"]),e(V,{total:a(g),page:a(o).pageNo,"onUpdate:page":l[6]||(l[6]=i=>a(o).pageNo=i),limit:a(o).pageSize,"onUpdate:limit":l[7]||(l[7]=i=>a(o).pageSize=i),onPagination:n},null,8,["total","page","limit"])]),_:1},8,["name"])]),_:1},8,["modelValue"])]),_:1})],64)}}});export{na as default};

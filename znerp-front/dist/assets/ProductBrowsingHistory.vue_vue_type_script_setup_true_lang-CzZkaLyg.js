import{bt as d,d as g,r as l,e as m,a3 as v,o as p,c as y,p as x,q as w,a as f,F as I}from"./index-CIfmhqRC.js";import N from"./ProductItem-Cv4ArqnW.js";import{c as b}from"./concat-BmzGRl5v.js";const u=o=>d.get({url:"/product/browse-history/page",params:o}),h=g({name:"ProductBrowsingHistory",__name:"ProductBrowsingHistory",setup(o,{expose:c}){const r=l([]),t=l(0),s=m({pageNo:1,pageSize:10,userId:0,userDeleted:!1}),n=v(()=>t.value>0&&Math.ceil(t.value/s.pageSize)===s.pageNo);return c({getHistoryList:async a=>{s.userId=a.userId;const i=await u(s);t.value=i.total,r.value=i.list},loadMore:async()=>{if(n.value)return;s.pageNo+=1;const a=await u(s);t.value=a.total,b(r.value,a.list)}}),(a,i)=>(p(!0),y(I,null,x(f(r),e=>(p(),w(N,{"spu-id":e.spuId,key:e.id,picUrl:e.picUrl,price:e.price,skuText:e.introduction,title:e.spuName,titleWidth:400,class:"mb-10px",priceColor:"#FF3000"},null,8,["spu-id","picUrl","price","skuText","title"]))),128))}});export{h as _};

import{bt as _,d as k,h as F,z as I,r,a3 as S,e as q,n as J,o as b,c as R,f as e,w as a,y,q as j,a as d,a4 as W,x as n,k as $,F as A,U as B,C as H,ce as K,cc as L,l as N,m as O,I as Q,J as X,M as Y}from"./index-CIfmhqRC.js";import{_ as Z}from"./ContentWrap.vue_vue_type_script_setup_true_lang-sm5dIhPQ.js";import{E as ee}from"./el-text-DMgoq9G3.js";import{_ as ae}from"./index-2RHHZ-Zv.js";import"./el-card-DyMugU68.js";const le=k({name:"MemberConfig",__name:"index",setup(te){const{t:v}=F(),T=I(),V=r(!1),c=r(!1),l=r({id:void 0,pointTradeDeductEnable:!0,pointTradeDeductUnitPrice:0,pointTradeDeductMaxPrice:0,pointTradeGivePoint:0}),p=S({get:()=>(l.value.pointTradeDeductUnitPrice/100).toFixed(2),set:u=>{l.value.pointTradeDeductUnitPrice=Math.round(100*u)}}),D=q({}),m=r(),P=async()=>{if(m&&await m.value.validate()){c.value=!0;try{const u=l.value;await(async t=>await _.put({url:"/member/config/save",data:t}))(u),T.success(v("common.updateSuccess")),V.value=!1}finally{c.value=!1}}},w=async()=>{try{const u=await(async()=>await _.get({url:"/member/config/get"}))();if(u===null)return;l.value=u}finally{}};return J(()=>{w()}),(u,t)=>{const U=ae,x=B,i=H,h=K,s=ee,f=L,E=N,M=O,g=Q,z=X,G=Z,C=Y;return b(),R(A,null,[e(U,{title:"\u4F1A\u5458\u624B\u518C\uFF08\u529F\u80FD\u5F00\u542F\uFF09",url:"https://doc.iocoder.cn/member/build/"}),e(G,null,{default:a(()=>[y((b(),j(z,{ref_key:"formRef",ref:m,model:d(l),rules:d(D),"label-width":"120px"},{default:a(()=>[y(e(i,{label:"hideId"},{default:a(()=>[e(x,{modelValue:d(l).id,"onUpdate:modelValue":t[0]||(t[0]=o=>d(l).id=o)},null,8,["modelValue"])]),_:1},512),[[W,!1]]),e(M,null,{default:a(()=>[e(E,{label:"\u79EF\u5206"},{default:a(()=>[e(i,{label:"\u79EF\u5206\u62B5\u6263",prop:"pointTradeDeductEnable"},{default:a(()=>[e(h,{modelValue:d(l).pointTradeDeductEnable,"onUpdate:modelValue":t[1]||(t[1]=o=>d(l).pointTradeDeductEnable=o),style:{"user-select":"none"}},null,8,["modelValue"]),e(s,{class:"w-full",size:"small",type:"info"},{default:a(()=>[n("\u4E0B\u5355\u79EF\u5206\u662F\u5426\u62B5\u7528\u8BA2\u5355\u91D1\u989D")]),_:1})]),_:1}),e(i,{label:"\u79EF\u5206\u62B5\u6263",prop:"pointTradeDeductUnitPrice"},{default:a(()=>[e(f,{modelValue:d(p),"onUpdate:modelValue":t[2]||(t[2]=o=>$(p)?p.value=o:null),placeholder:"\u8BF7\u8F93\u5165\u79EF\u5206\u62B5\u6263\u91D1\u989D",precision:2},null,8,["modelValue"]),e(s,{class:"w-full",size:"small",type:"info"},{default:a(()=>[n(" \u79EF\u5206\u62B5\u7528\u6BD4\u4F8B(1 \u79EF\u5206\u62B5\u591A\u5C11\u91D1\u989D)\uFF0C\u5355\u4F4D\uFF1A\u5143 ")]),_:1})]),_:1}),e(i,{label:"\u79EF\u5206\u62B5\u6263\u6700\u5927\u503C",prop:"pointTradeDeductMaxPrice"},{default:a(()=>[e(f,{modelValue:d(l).pointTradeDeductMaxPrice,"onUpdate:modelValue":t[3]||(t[3]=o=>d(l).pointTradeDeductMaxPrice=o),placeholder:"\u8BF7\u8F93\u5165\u79EF\u5206\u62B5\u6263\u6700\u5927\u503C"},null,8,["modelValue"]),e(s,{class:"w-full",size:"small",type:"info"},{default:a(()=>[n(" \u5355\u6B21\u4E0B\u5355\u79EF\u5206\u4F7F\u7528\u4E0A\u9650\uFF0C0 \u4E0D\u9650\u5236 ")]),_:1})]),_:1}),e(i,{label:"1 \u5143\u8D60\u9001\u591A\u5C11\u5206",prop:"pointTradeGivePoint"},{default:a(()=>[e(f,{modelValue:d(l).pointTradeGivePoint,"onUpdate:modelValue":t[4]||(t[4]=o=>d(l).pointTradeGivePoint=o),placeholder:"\u8BF7\u8F93\u5165 1 \u5143\u8D60\u9001\u591A\u5C11\u79EF\u5206"},null,8,["modelValue"]),e(s,{class:"w-full",size:"small",type:"info"},{default:a(()=>[n(" \u4E0B\u5355\u652F\u4ED8\u91D1\u989D\u6309\u6BD4\u4F8B\u8D60\u9001\u79EF\u5206\uFF08\u5B9E\u9645\u652F\u4ED8 1 \u5143\u8D60\u9001\u591A\u5C11\u79EF\u5206\uFF09 ")]),_:1})]),_:1})]),_:1})]),_:1}),e(i,null,{default:a(()=>[e(g,{type:"primary",onClick:P},{default:a(()=>[n("\u4FDD\u5B58")]),_:1})]),_:1})]),_:1},8,["model","rules"])),[[C,d(c)]])]),_:1})],64)}}});export{le as default};

import{d as G,z as H,r as m,o as d,c,g as e,f as l,w as s,x as n,a as o,k as C,F as _,p as x,q as j,t as z,W as N,at as K,U as L,I as P,A as Q,B as T,cl as X,_ as Z}from"./index-CIfmhqRC.js";import{E as aa}from"./el-image-DLpquQe6.js";import{E as la}from"./el-space-BPh1ziUL.js";import{E as ea}from"./el-text-DMgoq9G3.js";import{I as sa}from"./index-CPjFT88E.js";import{M as S,I as ta,f as U,g as F,N as ia,a as J}from"./constants-PZ18_Kze.js";const oa={class:"prompt"},ua={class:"hot-words"},da={class:"image-size"},na=["onClick"],ra={class:"size-font"},ma={class:"model"},va={class:"model-font"},ca={class:"version"},pa={class:"model"},fa={class:"btns"},ya=Z(G({__name:"index",emits:["onDrawStart","onDrawComplete"],setup(wa,{expose:O,emit:R}){const W=H(),I=m(!1),h=m(""),p=m(""),y=m(),V=m("midjourney"),b=m("1:1"),f=m("6.0"),w=m(S),D=R,E=async t=>{V.value=t.key,t.key==="niji"?w.value=ia:w.value=S,f.value=w.value[0].value},Y=async()=>{await W.confirm("\u786E\u8BA4\u751F\u6210\u5185\u5BB9?");try{I.value=!0,D("onDrawStart",J.MIDJOURNEY);const t=U.find(i=>b.value===i.key),u={prompt:p.value,model:V.value,width:t.width,height:t.height,version:f.value,referImageUrl:y.value};await sa.midjourneyImagine(u)}finally{D("onDrawComplete",J.MIDJOURNEY),I.value=!1}};return O({settingValues:async t=>{p.value=t.prompt;const u=U.find(v=>v.key===`${t.width}:${t.height}`);b.value=u.key;const i=F.find(v=>{var r;return v.key===((r=t.options)==null?void 0:r.model)});await E(i),f.value=w.value.find(v=>{var r;return v.value===((r=t.options)==null?void 0:r.version)}).value,y.value=t.options.referImageUrl}}),(t,u)=>{const i=ea,v=L,r=P,k=la,$=aa,q=Q,A=T,B=X;return d(),c(_,null,[e("div",oa,[l(i,{tag:"b"},{default:s(()=>[n("\u753B\u9762\u63CF\u8FF0")]),_:1}),l(i,{tag:"p"},{default:s(()=>[n("\u5EFA\u8BAE\u4F7F\u7528\u201C\u5F62\u5BB9\u8BCD+\u52A8\u8BCD+\u98CE\u683C\u201D\u7684\u683C\u5F0F\uFF0C\u4F7F\u7528\u201C\uFF0C\u201D\u9694\u5F00.")]),_:1}),l(v,{modelValue:o(p),"onUpdate:modelValue":u[0]||(u[0]=a=>C(p)?p.value=a:null),maxlength:"1024",rows:"5",class:"w-100% mt-15px","input-style":"border-radius: 7px;",placeholder:"\u4F8B\u5982\uFF1A\u7AE5\u8BDD\u91CC\u7684\u5C0F\u5C4B\u5E94\u8BE5\u662F\u4EC0\u4E48\u6837\u5B50\uFF1F","show-word-limit":"",type:"textarea"},null,8,["modelValue"])]),e("div",ua,[e("div",null,[l(i,{tag:"b"},{default:s(()=>[n("\u968F\u673A\u70ED\u8BCD")]),_:1})]),l(k,{wrap:"",class:"word-list"},{default:s(()=>[(d(!0),c(_,null,x(o(ta),a=>(d(),j(r,{round:"",class:"btn",type:o(h)===a?"primary":"default",key:a,onClick:M=>(async g=>{h.value!=g?(h.value=g,p.value=g):h.value=""})(a)},{default:s(()=>[n(z(a),1)]),_:2},1032,["type","onClick"]))),128))]),_:1})]),e("div",da,[e("div",null,[l(i,{tag:"b"},{default:s(()=>[n("\u5C3A\u5BF8")]),_:1})]),l(k,{wrap:"",class:"size-list"},{default:s(()=>[(d(!0),c(_,null,x(o(U),a=>(d(),c("div",{class:"size-item",key:a.key,onClick:M=>(async g=>{b.value=g.key})(a)},[e("div",{class:N(o(b)===a.key?"size-wrapper selectImageSize":"size-wrapper")},[e("div",{style:K(a.style)},null,4)],2),e("div",ra,z(a.key),1)],8,na))),128))]),_:1})]),e("div",ma,[e("div",null,[l(i,{tag:"b"},{default:s(()=>[n("\u6A21\u578B")]),_:1})]),l(k,{wrap:"",class:"model-list"},{default:s(()=>[(d(!0),c(_,null,x(o(F),a=>(d(),c("div",{class:N(o(V)===a.key?"modal-item selectModel":"modal-item"),key:a.key},[l($,{src:a.image,fit:"contain",onClick:M=>E(a)},null,8,["src","onClick"]),e("div",va,z(a.name),1)],2))),128))]),_:1})]),e("div",ca,[e("div",null,[l(i,{tag:"b"},{default:s(()=>[n("\u7248\u672C")]),_:1})]),l(k,{wrap:"",class:"version-list"},{default:s(()=>[l(A,{modelValue:o(f),"onUpdate:modelValue":u[1]||(u[1]=a=>C(f)?f.value=a:null),class:"version-select !w-350px",clearable:"",placeholder:"\u8BF7\u9009\u62E9\u7248\u672C"},{default:s(()=>[(d(!0),c(_,null,x(o(w),a=>(d(),j(q,{key:a.value,label:a.label,value:a.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),e("div",pa,[e("div",null,[l(i,{tag:"b"},{default:s(()=>[n("\u53C2\u8003\u56FE")]),_:1})]),l(k,{wrap:"",class:"model-list"},{default:s(()=>[l(B,{modelValue:o(y),"onUpdate:modelValue":u[2]||(u[2]=a=>C(y)?y.value=a:null),height:"120px",width:"120px"},null,8,["modelValue"])]),_:1})]),e("div",fa,[l(r,{type:"primary",size:"large",round:"",onClick:Y},{default:s(()=>[n(z(o(I)?"\u751F\u6210\u4E2D":"\u751F\u6210\u5185\u5BB9"),1)]),_:1})])],64)}}}),[["__scopeId","data-v-e836f1d9"]]);export{ya as default};

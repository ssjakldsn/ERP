import{d as F,z as R,h as z,r as n,e as j,o as p,q as c,w as o,f as i,a,x as f,y as q,U as I,k as J,C as M,J as P,I as S,M as A}from"./index-CIfmhqRC.js";import{_ as B}from"./Dialog.vue_vue_type_style_index_0_lang-CtaLqQeX.js";import{r as D}from"./comment-Bm4YwvZQ.js";const E=F({name:"ProductComment",__name:"ReplyForm",emits:["success"],setup(G,{expose:v,emit:y}){const C=R(),{t:_}=z(),l=n(!1),u=n(!1),t=n({id:void 0,replyContent:void 0}),V=j({replyContent:[{required:!0,message:"\u56DE\u590D\u5185\u5BB9\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),r=n();v({open:async e=>{k(),t.value.id=e,l.value=!0}});const x=y,b=async()=>{var e;if(await((e=r==null?void 0:r.value)==null?void 0:e.validate())){u.value=!0;try{await D(t.value),C.success(_("common.createSuccess")),l.value=!1,x("success")}finally{u.value=!1}}},k=()=>{var e;t.value={id:void 0,replyContent:void 0},(e=r.value)==null||e.resetFields()};return(e,s)=>{const w=M,g=P,m=S,U=B,h=A;return p(),c(U,{title:"\u56DE\u590D",modelValue:a(l),"onUpdate:modelValue":s[2]||(s[2]=d=>J(l)?l.value=d:null)},{footer:o(()=>[i(m,{onClick:b,type:"primary",disabled:a(u)},{default:o(()=>[f("\u786E \u5B9A ")]),_:1},8,["disabled"]),i(m,{onClick:s[1]||(s[1]=d=>l.value=!1)},{default:o(()=>[f("\u53D6 \u6D88")]),_:1})]),default:o(()=>[q((p(),c(g,{ref_key:"formRef",ref:r,model:a(t),rules:a(V),"label-width":"100px"},{default:o(()=>[i(w,{label:"\u56DE\u590D\u5185\u5BB9",prop:"replyContent"},{default:o(()=>[i(a(I),{type:"textarea",modelValue:a(t).replyContent,"onUpdate:modelValue":s[0]||(s[0]=d=>a(t).replyContent=d)},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),[[h,a(u)]])]),_:1},8,["modelValue"])}}});export{E as _};

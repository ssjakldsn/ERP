import{b8 as j,b9 as Q,bG as W,bK as H,c2 as C,bk as M,bi as x,ed as J,c5 as X,d as B,ba as Z,d3 as ee,bY as ae,cE as le,bQ as se,bR as te,r as b,ee as ie,e as oe,a3 as _,c0 as ne,ar as Y,b$ as re,o as u,c as O,g as m,at as de,a,W as v,F as ue,p as me,aT as ce,x as fe,t as be,bb as pe,bM as F,bc as ve,f as T,k as ye,q as w,a5 as D,aw as ge,_ as Ie}from"./index-CIfmhqRC.js";import{_ as he}from"./ImageList.vue_vue_type_style_index_0_lang-BoQi9ied.js";import{a as r}from"./constants-PZ18_Kze.js";import ke from"./index-BypV4YlJ.js";import _e from"./index-DP1yeG2u.js";import Oe from"./index-BtKYPfoW.js";import we from"./index-q-TWQLwC.js";import"./el-card-DyMugU68.js";import"./index.vue_vue_type_script_setup_true_lang-DYHi04Tm.js";import"./index-CrBeVHKs.js";import"./index-CPjFT88E.js";import"./ImageDetail-BLoTTat3.js";import"./el-drawer-QOxzUn5j.js";import"./el-image-DLpquQe6.js";import"./ImageCard-D6BgTkhG.js";import"./download-D5Lb_h0f.js";import"./el-space-BPh1ziUL.js";import"./el-text-DMgoq9G3.js";const De=j({options:{type:Q(Array),default:()=>[]},modelValue:{type:[String,Number,Boolean],default:void 0},block:Boolean,size:W,disabled:Boolean,validateEvent:{type:Boolean,default:!0},id:String,name:String,...H(["ariaLabel"])}),Ee={[C]:o=>M(o)||x(o)||J(o),[X]:o=>M(o)||x(o)||J(o)},Se=B({name:"ElSegmented"}),Ve=B({...Se,props:De,emits:Ee,setup(o,{emit:y}){const i=o,s=Z("segmented"),I=ee(),E=ae(),n=le(),{formItem:c}=se(),{inputId:S,isLabeledByFormItem:p}=te(i,{formItemContext:c}),f=b(null),t=ie(),l=oe({isInit:!1,width:0,translateX:0,disabled:!1,focusVisible:!1}),g=e=>F(e)?e.value:e,V=e=>F(e)?e.label:e,R=e=>!!(n.value||F(e)&&e.disabled),U=e=>i.modelValue===g(e),$=e=>[s.e("item"),s.is("selected",U(e)),s.is("disabled",R(e))],L=()=>{if(!f.value)return;const e=f.value.querySelector(".is-selected"),h=f.value.querySelector(".is-selected input");if(!e||!h)return l.width=0,l.translateX=0,l.disabled=!1,void(l.focusVisible=!1);const d=e.getBoundingClientRect();var k;l.isInit=!0,l.width=d.width,l.translateX=e.offsetLeft,l.disabled=R((k=i.modelValue,i.options.find(N=>g(N)===k)));try{l.focusVisible=h.matches(":focus-visible")}catch{}},q=_(()=>[s.b(),s.m(E.value),s.is("block",i.block)]),P=_(()=>({width:`${l.width}px`,transform:`translateX(${l.translateX}px)`,display:l.isInit?"block":"none"})),z=_(()=>[s.e("item-selected"),s.is("disabled",l.disabled),s.is("focus-visible",l.focusVisible)]),G=_(()=>i.name||I.value);return ne(f,L),Y(t,L),Y(()=>i.modelValue,()=>{var e;L(),i.validateEvent&&((e=c==null?void 0:c.validate)==null||e.call(c,"change").catch(h=>re()))},{flush:"post"}),(e,h)=>(u(),O("div",{id:a(S),ref_key:"segmentedRef",ref:f,class:v(a(q)),role:"radiogroup","aria-label":a(p)?void 0:e.ariaLabel||"segmented","aria-labelledby":a(p)?a(c).labelId:void 0},[m("div",{class:v(a(s).e("group"))},[m("div",{style:de(a(P)),class:v(a(z))},null,6),(u(!0),O(ue,null,me(e.options,(d,k)=>(u(),O("label",{key:k,class:v($(d))},[m("input",{class:v(a(s).e("item-input")),type:"radio",name:a(G),disabled:R(d),checked:U(d),onChange:N=>(K=>{const A=g(K);y(C,A),y(X,A)})(d)},null,42,["name","disabled","checked","onChange"]),m("div",{class:v(a(s).e("item-label"))},[ce(e.$slots,"default",{item:d},()=>[fe(be(V(d)),1)])],2)],2))),128))],2)],10,["id","aria-label","aria-labelledby"]))}}),Re=ve(pe(Ve,[["__file","segmented.vue"]])),Le={class:"ai-image"},Ne={class:"left"},Be={class:"segmented"},Fe={class:"modal-switch-container"},Ue={class:"main"},Ae=Ie(B({__name:"index",setup(o){const y=b(),i=b(),s=b(),I=b(),E=b(),n=b(r.MIDJOURNEY),c=[{label:"DALL3 \u7ED8\u753B",value:r.OPENAI},{label:"MJ \u7ED8\u753B",value:r.MIDJOURNEY},{label:"Stable Diffusion",value:r.STABLE_DIFFUSION},{label:"\u5176\u5B83",value:"other"}],S=async t=>{},p=async t=>{await y.value.getImageList()},f=async t=>{n.value=t.platform,await ge(),t.platform===r.MIDJOURNEY?s.value.settingValues(t):t.platform===r.OPENAI?i.value.settingValues(t):t.platform===r.STABLE_DIFFUSION&&I.value.settingValues(t)};return(t,l)=>{const g=Re;return u(),O("div",Le,[m("div",Ne,[m("div",Be,[T(g,{modelValue:a(n),"onUpdate:modelValue":l[0]||(l[0]=V=>ye(n)?n.value=V:null),options:c},null,8,["modelValue"])]),m("div",Fe,[a(n)===a(r).OPENAI?(u(),w(ke,{key:0,ref_key:"dall3Ref",ref:i,onOnDrawStart:S,onOnDrawComplete:p},null,512)):D("",!0),a(n)===a(r).MIDJOURNEY?(u(),w(_e,{key:1,ref_key:"midjourneyRef",ref:s},null,512)):D("",!0),a(n)===a(r).STABLE_DIFFUSION?(u(),w(Oe,{key:2,ref_key:"stableDiffusionRef",ref:I,onOnDrawComplete:p},null,512)):D("",!0),a(n)==="other"?(u(),w(we,{key:3,ref_key:"otherRef",ref:E,onOnDrawComplete:p},null,512)):D("",!0)])]),m("div",Ue,[T(he,{ref_key:"imageListRef",ref:y,onOnRegeneration:f},null,512)])])}}}),[["__scopeId","data-v-1a674ee8"]]);export{Ae as default};

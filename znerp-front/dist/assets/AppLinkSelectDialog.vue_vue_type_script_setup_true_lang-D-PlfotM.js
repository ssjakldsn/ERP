import{f9 as ne,aN as pe,aO as se,fa as G,fb as le,fc as oe,fd as ie,fe as ue,d as fe,r as g,o as h,c as C,f as c,w as r,x as y,g as M,F as x,p as D,a as u,q as E,W as re,t as R,k as me,a5 as de,aw as ce,ff as ge,I as he,b0 as _e,aL as Te,C as ve,J as Ce}from"./index-CIfmhqRC.js";import{_ as Ie}from"./Dialog.vue_vue_type_style_index_0_lang-CtaLqQeX.js";import{_ as ye}from"./ProductCategorySelect.vue_vue_type_script_setup_true_lang-Dn8UypNC.js";var xe=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");function B(e){return xe.test(e)}var j="\\ud800-\\udfff",Le="["+j+"]",b="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",U="\\ud83c[\\udffb-\\udfff]",K="[^"+j+"]",$="(?:\\ud83c[\\udde6-\\uddff]){2}",q="[\\ud800-\\udbff][\\udc00-\\udfff]",F="(?:"+b+"|"+U+")?",H="[\\ufe0e\\ufe0f]?",Ae=H+F+("(?:\\u200d(?:"+[K,$,q].join("|")+")"+H+F+")*"),Oe="(?:"+[K+b+"?",b,$,q,Le].join("|")+")",ke=RegExp(U+"(?="+U+")|"+Oe+Ae,"g");function De(e){return B(e)?function(p){return p.match(ke)||[]}(e):function(p){return p.split("")}(e)}var J=G&&G.isRegExp,Ee=J?le(J):function(e){return pe(e)&&se(e)=="[object RegExp]"};function W(e,p,m){return m&&typeof m!="number"&&ue(e,p,m)&&(p=m=void 0),(m=m===void 0?4294967295:m>>>0)?(e=oe(e))&&(typeof p=="string"||p!=null&&!Ee(p))&&!(p=ie(p))&&B(e)?(f=De(e),s=0,o=m,T=f.length,o=o===void 0?T:o,!s&&o>=T?f:ne(f,s,o)):e.split(p,m):[];var f,s,o,T}var S=(e=>(e[e.ACTIVITY_COMBINATION=0]="ACTIVITY_COMBINATION",e[e.ACTIVITY_SECKILL=1]="ACTIVITY_SECKILL",e[e.ARTICLE_DETAIL=2]="ARTICLE_DETAIL",e[e.COUPON_DETAIL=3]="COUPON_DETAIL",e[e.DIY_PAGE_DETAIL=4]="DIY_PAGE_DETAIL",e[e.PRODUCT_CATEGORY_LIST=5]="PRODUCT_CATEGORY_LIST",e[e.PRODUCT_LIST=6]="PRODUCT_LIST",e[e.PRODUCT_DETAIL_NORMAL=7]="PRODUCT_DETAIL_NORMAL",e[e.PRODUCT_DETAIL_COMBINATION=8]="PRODUCT_DETAIL_COMBINATION",e[e.PRODUCT_DETAIL_SECKILL=9]="PRODUCT_DETAIL_SECKILL",e))(S||{});const L=[{name:"\u5546\u57CE",links:[{name:"\u9996\u9875",path:"/pages/index/index"},{name:"\u5546\u54C1\u5206\u7C7B",path:"/pages/index/category",type:5},{name:"\u8D2D\u7269\u8F66",path:"/pages/index/cart"},{name:"\u4E2A\u4EBA\u4E2D\u5FC3",path:"/pages/index/user"},{name:"\u5546\u54C1\u641C\u7D22",path:"/pages/index/search"},{name:"\u81EA\u5B9A\u4E49\u9875\u9762",path:"/pages/index/page",type:4},{name:"\u5BA2\u670D",path:"/pages/chat/index"},{name:"\u7CFB\u7EDF\u8BBE\u7F6E",path:"/pages/public/setting"},{name:"\u5E38\u89C1\u95EE\u9898",path:"/pages/public/faq"}]},{name:"\u5546\u54C1",links:[{name:"\u5546\u54C1\u5217\u8868",path:"/pages/goods/list",type:6},{name:"\u5546\u54C1\u8BE6\u60C5",path:"/pages/goods/index",type:7},{name:"\u62FC\u56E2\u5546\u54C1\u8BE6\u60C5",path:"/pages/goods/groupon",type:8},{name:"\u79D2\u6740\u5546\u54C1\u8BE6\u60C5",path:"/pages/goods/seckill",type:9}]},{name:"\u8425\u9500\u6D3B\u52A8",links:[{name:"\u62FC\u56E2\u8BA2\u5355",path:"/pages/activity/groupon/order"},{name:"\u8425\u9500\u5546\u54C1",path:"/pages/activity/index"},{name:"\u62FC\u56E2\u6D3B\u52A8",path:"/pages/activity/groupon/list",type:0},{name:"\u79D2\u6740\u6D3B\u52A8",path:"/pages/activity/seckill/list",type:1},{name:"\u7B7E\u5230\u4E2D\u5FC3",path:"/pages/app/sign"},{name:"\u4F18\u60E0\u5238\u4E2D\u5FC3",path:"/pages/coupon/list"},{name:"\u4F18\u60E0\u5238\u8BE6\u60C5",path:"/pages/coupon/detail",type:3},{name:"\u6587\u7AE0\u8BE6\u60C5",path:"/pages/public/richtext",type:2}]},{name:"\u5206\u9500\u5546\u57CE",links:[{name:"\u5206\u9500\u4E2D\u5FC3",path:"/pages/commission/index"},{name:"\u63A8\u5E7F\u5546\u54C1",path:"/pages/commission/goods"},{name:"\u5206\u9500\u8BA2\u5355",path:"/pages/commission/order"},{name:"\u6211\u7684\u56E2\u961F",path:"/pages/commission/team"}]},{name:"\u652F\u4ED8",links:[{name:"\u5145\u503C\u4F59\u989D",path:"/pages/pay/recharge"},{name:"\u5145\u503C\u8BB0\u5F55",path:"/pages/pay/recharge-log"}]},{name:"\u7528\u6237\u4E2D\u5FC3",links:[{name:"\u7528\u6237\u4FE1\u606F",path:"/pages/user/info"},{name:"\u7528\u6237\u8BA2\u5355",path:"/pages/order/list"},{name:"\u552E\u540E\u8BA2\u5355",path:"/pages/order/aftersale/list"},{name:"\u5546\u54C1\u6536\u85CF",path:"/pages/user/goods-collect"},{name:"\u6D4F\u89C8\u8BB0\u5F55",path:"/pages/user/goods-log"},{name:"\u5730\u5740\u7BA1\u7406",path:"/pages/user/address/list"},{name:"\u7528\u6237\u4F63\u91D1",path:"/pages/user/wallet/commission"},{name:"\u7528\u6237\u4F59\u989D",path:"/pages/user/wallet/money"},{name:"\u7528\u6237\u79EF\u5206",path:"/pages/user/wallet/score"}]}],Re={class:"h-500px flex gap-8px"},be=fe({name:"AppLinkSelectDialog",__name:"AppLinkSelectDialog",emits:["change","appLinkChange"],setup(e,{expose:p,emit:m}){const f=g(L[0].name),s=g({}),o=g(!1);p({open:t=>{s.value.path=t,o.value=!0;const a=L.find(l=>l.links.some(i=>{const _=O(i.path,t);return _&&(s.value={...i,path:t}),_}));a&&ce(()=>N(a.name))}});const T=m,z=()=>{o.value=!1,T("change",s.value.path),T("appLinkChange",s.value)},A=g([]),Q=({scrollTop:t})=>{const a=A.value.find(l=>{const{offsetHeight:i,offsetTop:_}=l;return t>=_&&t<_+i});a&&f.value!==a.textContent&&(f.value=a.textContent||"",X(f.value))},P=g(),N=t=>{var l;f.value=t;const a=A.value.find(i=>i.textContent===t);a&&((l=P.value)==null||l.setScrollTop(a.offsetTop))},V=g(),w=g([]),X=t=>{var l;const a=w.value.map(i=>i.ref).find(i=>i.textContent===t);a&&((l=V.value)==null||l.setScrollTop(a.offsetTop))},O=(t,a)=>W(t,"?",1)[0]===W(a,"?",1)[0],d=g({visible:!1,id:void 0,type:void 0}),Z=t=>{const a=new URL(s.value.path,"http://127.0.0.1");a.searchParams.set("id",`${t}`),s.value.path=`${a.pathname}${a.search}`,d.value.visible=!1,d.value.id=void 0};return(t,a)=>{const l=he,i=_e,_=Te,Y=Ie,ee=ve,ae=Ce;return h(),C(x,null,[c(Y,{modelValue:u(o),"onUpdate:modelValue":a[1]||(a[1]=n=>me(o)?o.value=n:null),title:"\u9009\u62E9\u94FE\u63A5",width:"65%"},{footer:r(()=>[c(l,{type:"primary",onClick:z},{default:r(()=>[y("\u786E \u5B9A")]),_:1}),c(l,{onClick:a[0]||(a[0]=n=>o.value=!1)},{default:r(()=>[y("\u53D6 \u6D88")]),_:1})]),default:r(()=>[M("div",Re,[c(i,{"wrap-class":"h-full",ref_key:"groupScrollbar",ref:V,"view-class":"flex flex-col"},{default:r(()=>[(h(!0),C(x,null,D(u(L),(n,k)=>(h(),E(l,{key:k,class:re(["m-r-16px m-l-0px! justify-start! w-90px",{active:u(f)===n.name}]),ref_for:!0,ref_key:"groupBtnRefs",ref:w,text:u(f)!==n.name,type:u(f)===n.name?"primary":"default",onClick:v=>N(n.name)},{default:r(()=>[y(R(n.name),1)]),_:2},1032,["class","text","type","onClick"]))),128))]),_:1},512),c(i,{class:"h-full flex-1",onScroll:Q,ref_key:"linkScrollbar",ref:P},{default:r(()=>[(h(!0),C(x,null,D(u(L),(n,k)=>(h(),C("div",{key:k},[M("div",{class:"font-bold",ref_for:!0,ref_key:"groupTitleRefs",ref:A},R(n.name),513),(h(!0),C(x,null,D(n.links,(v,te)=>(h(),E(_,{key:te,content:v.path,placement:"bottom","show-after":300},{default:r(()=>[c(l,{class:"m-b-8px m-r-8px m-l-0px!",type:O(v.path,u(s).path)?"primary":"default",onClick:Ue=>(I=>{O(I.path,s.value.path)||(s.value=I),I.type===S.PRODUCT_CATEGORY_LIST&&(d.value.visible=!0,d.value.type=I.type,d.value.id=ge("id","http://127.0.0.1"+s.value.path)||void 0)})(v)},{default:r(()=>[y(R(v.name),1)]),_:2},1032,["type","onClick"])]),_:2},1032,["content"]))),128))]))),128))]),_:1},512)])]),_:1},8,["modelValue"]),c(Y,{modelValue:u(d).visible,"onUpdate:modelValue":a[3]||(a[3]=n=>u(d).visible=n),title:"",width:"50%"},{default:r(()=>[c(ae,{class:"min-h-200px"},{default:r(()=>[u(d).type===u(S).PRODUCT_CATEGORY_LIST?(h(),E(ee,{key:0,label:"\u9009\u62E9\u5206\u7C7B"},{default:r(()=>[c(ye,{modelValue:u(d).id,"onUpdate:modelValue":[a[2]||(a[2]=n=>u(d).id=n),Z],"parent-id":0},null,8,["modelValue"])]),_:1})):de("",!0)]),_:1})]),_:1},8,["modelValue"])],64)}}});export{be as _};

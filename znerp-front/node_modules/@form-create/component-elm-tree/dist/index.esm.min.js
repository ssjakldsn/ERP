/*!
 * @form-create/component-elm-tree v3.2.0
 * (c) 2018-2024 xaboy
 * Github https://github.com/xaboy/form-create with tree
 * Released under the MIT License.
 */
import{defineComponent as e,createVNode as t,resolveComponent as r,mergeProps as s}from"vue";var i=e({name:"fcTree",inheritAttrs:!1,formCreateParser:{mergeProp:function(e){var t=e.prop.props;t.nodeKey||(t.nodeKey="id"),t.props||(t.props={label:"title"})}},props:{type:String,modelValue:{type:[Array,String,Number],default:function(){return[]}}},emits:["update:modelValue","fc.el"],watch:{modelValue:function(){this.setValue()}},methods:{updateValue:function(){var e;this.$refs.tree&&(e="selected"===this.type?this.$refs.tree.getCurrentKey():this.$refs.tree.getCheckedKeys(),this.$emit("update:modelValue",e))},setValue:function(){var e;this.$refs.tree&&("selected"===this.type?this.$refs.tree.setCurrentKey(this.modelValue):this.$refs.tree.setCheckedKeys((e=this.modelValue,Array.isArray(e)?e:[null,void 0,""].indexOf(e)>-1?[]:[e])))}},render:function(){return t(r("ElTree"),s(this.$attrs,{ref:"tree",onCheck:this.updateValue,"onNode-click":this.updateValue}),this.$slots)},mounted:function(){this.setValue(),this.$emit("fc.el",this.$refs.tree)}});export{i as default};
